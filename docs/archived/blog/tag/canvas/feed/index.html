<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	
	xmlns:georss="http://www.georss.org/georss"
	xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#"
	>

<channel>
	<title>canvas &#8211; Parerga und Paralipomena</title>
	<atom:link href="http://www.michelepasin.org/blog/tag/canvas/feed/" rel="self" type="application/rss+xml" />
	<link>http://www.michelepasin.org/blog</link>
	<description>At the core of all well-founded belief lies belief that is unfounded - Wittgenstein</description>
	<lastBuildDate>Wed, 14 Nov 2012 23:38:57 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.2.11</generator>
<site xmlns="com-wordpress:feed-additions:1">13825966</site>	<item>
		<title>HTML5 Canvas Cookbook</title>
		<link>http://www.michelepasin.org/blog/2012/02/08/html5-canvas-cookbook/</link>
				<pubDate>Wed, 08 Feb 2012 17:34:12 +0000</pubDate>
		<dc:creator><![CDATA[mikele]]></dc:creator>
				<category><![CDATA[TechLife]]></category>
		<category><![CDATA[book]]></category>
		<category><![CDATA[canvas]]></category>
		<category><![CDATA[html5]]></category>

		<guid isPermaLink="false">http://www.michelepasin.org/blog/?p=1815</guid>
				<description><![CDATA[HTML5 Canvas Cookbook is a new publication from Packt publishing that discusses in details the new drawing functionalities the html5 canvas element makes available; in the last weeks I&#8217;ve been looking at this book in more details and since it&#8217;s been a quite useful learning experience I wanted to mention it here too. The book [&#8230;]]]></description>
								<content:encoded><![CDATA[<p><a href="http://www.packtpub.com/html5-canvas-cookbook-recipes-to-revolutionize-web-experience/book">HTML5 Canvas Cookbook</a> is a new publication from Packt publishing that discusses in details the new drawing functionalities the html5 canvas element makes available; in the last weeks I&#8217;ve been looking at this book in more details and since it&#8217;s been a quite useful learning experience I wanted to mention it here too.</p>
<p>The book (which is <a href="http://www.packtpub.com/html5-canvas-cookbook-recipes-to-revolutionize-web-experience/book">available online here</a> )is simple and well organized; it spends quite a bit of time on both introductory topics and more advanced ones, so it&#8217;ll probably fit both the beginner and the more experienced programmer. </p>
<p>Here&#8217;s a list of the chapters available: </p>
<div style="height: 400px; overflow: auto;">
<pre>
CHAPTER 1: GETTING STARTED WITH PATHS AND TEXT
Introduction
Drawing a line
Drawing an arc
Drawing a Quadratic curve
Drawing a Bezier curve
Drawing a zigzag
Drawing a spiral
Working with text
Drawing 3D text with shadows
Unlocking the power of fractals: Drawing a haunted tree

CHAPTER 2: SHAPE DRAWING AND COMPOSITES
Introduction
Drawing a rectangle
Drawing a circle
Working with custom shapes and fill styles
Fun with Bezier curves: drawing a cloud
Drawing transparent shapes
Working with the context state stack to save and restore styles
Working with composite operations
Creating patterns with loops: drawing a gear
Randomizing shape properties: drawing a field of flowers
Creating custom shape functions: playing card suits
Putting it all together: drawing a jet

CHAPTER 3: WORKING WITH IMAGES AND VIDEOS
Introduction
Drawing an image
Cropping an image
Copying and pasting sections of the canvas
Working with video
Getting image data
Introduction to pixel manipulation: inverting image colors
Inverting video colors
Converting image colors to grayscale
Converting a canvas drawing into a data URL
Saving a canvas drawing as an image
Loading the canvas with a data URL
Creating a pixelated image focus

CHAPTER 4: MASTERING TRANSFORMATIONS
Introduction
Translating the canvas context
Rotating the canvas context
Scaling the canvas context
Creating a mirror transform
Creating a custom transform
Shearing the canvas context
Handling multiple transforms with the state stack
Transforming a circle into an oval
Rotating an image
Drawing a simple logo and randomizing its position, rotation, and scale

CHAPTER 5: BRINGING THE CANVAS TO LIFE WITH ANIMATION
Introduction
Creating an Animation class
Creating a linear motion
Creating acceleration
Creating oscillation
Oscillating a bubble
Swinging a pendulum
Animating mechanical gears
Animating a clock
Simulating particle physics
Creating microscopic life forms
Stressing the canvas and displaying the FPS

CHAPTER 6: INTERACTING WITH THE CANVAS: ATTACHING EVENT LISTENERS TO SHAPES AND REGIONS 
Introduction
Creating an Events Class
Working With Canvas Mouse Coordinates
Attaching Mouse Event Listeners to Regions
Attaching Touch Event Listeners to Regions on a Mobile Device
Attaching Event Listeners to Images
Dragging-And-Dropping Shapes
Dragging-And-Dropping Images
Creating an Image Magnifier
Creating a Drawing Application

CHAPTER 7: CREATING GRAPHS AND CHARTS
Introduction
Creating a pie chart
Creating a bar chart
Graphing equations
Plotting data points with a line chart

CHAPTER 8: SAVING THE WORLD WITH GAME DEVELOPMENT
Introduction
Creating sprite sheets for the heroes and enemies
Creating level images and boundary maps
Creating an Actor class for the hero and enemies
Creating a Level class
Creating a Health Bar class
Creating a Controller class
Creating a Model class
Creating a View class
Setting up the HTML document and starting the game

CHAPTER 9: INTRODUCING WEBGL
Introduction
Creating a WebGL wrapper to simplify the WebGL API
Creating a triangular plane
Rotating a triangular plane in 3D space
Creating a rotating cube
Adding textures and lighting
Creating a 3D world that you can explore

</pre>
</div>
<p>The last chapters about animations and game developments are probably the most interesting ones, especially they all include detailed walk-through of the techniques discussed. Here&#8217;s for example an example from Chapter 5, &#8216;Oscillating a bubble&#8217;: </p>
<p><canvas id="myCanvas" width="400" height="250" style="border:1px solid black;"><br />
</canvas></p>
<p>[inline]</p>
<p>[script type=&#8221;text/javascript&#8221;]</p>
<p>var Animation = function(canvasId){<br />
    this.canvas = document.getElementById(canvasId);<br />
    this.context = this.canvas.getContext(&#8220;2d&#8221;);<br />
    this.t = 0;<br />
    this.timeInterval = 0;<br />
    this.startTime = 0;<br />
    this.lastTime = 0;<br />
    this.frame = 0;<br />
    this.animating = false;</p>
<p>    // provided by Paul Irish<br />
    window.requestAnimFrame = (function(callback){<br />
        return window.requestAnimationFrame ||<br />
        window.webkitRequestAnimationFrame ||<br />
        window.mozRequestAnimationFrame ||<br />
        window.oRequestAnimationFrame ||<br />
        window.msRequestAnimationFrame ||<br />
        function(callback){<br />
            window.setTimeout(callback, 1000 / 60);<br />
        };<br />
    })();<br />
};</p>
<p>Animation.prototype.getContext = function(){<br />
    return this.context;<br />
};</p>
<p>Animation.prototype.getCanvas = function(){<br />
    return this.canvas;<br />
};</p>
<p>Animation.prototype.clear = function(){<br />
    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);<br />
};</p>
<p>Animation.prototype.setDrawStage = function(func){<br />
    this.drawStage = func;<br />
};</p>
<p>Animation.prototype.isAnimating = function(){<br />
    return this.animating;<br />
};</p>
<p>Animation.prototype.getFrame = function(){<br />
    return this.frame;<br />
};</p>
<p>Animation.prototype.start = function(){<br />
    this.animating = true;<br />
    var date = new Date();<br />
    this.startTime = date.getTime();<br />
    this.lastTime = this.startTime;</p>
<p>    if (this.drawStage !== undefined) {<br />
        this.drawStage();<br />
    }</p>
<p>    this.animationLoop();<br />
};</p>
<p>Animation.prototype.stop = function(){<br />
    this.animating = false;<br />
};<br />
Animation.prototype.getTimeInterval = function(){<br />
    return this.timeInterval;<br />
};</p>
<p>Animation.prototype.getTime = function(){<br />
    return this.t;<br />
};</p>
<p>Animation.prototype.getFps = function(){<br />
    return this.timeInterval > 0 ? 1000 / this.timeInterval : 0;<br />
};</p>
<p>Animation.prototype.animationLoop = function(){<br />
    var that = this;</p>
<p>    this.frame++;<br />
    var date = new Date();<br />
    var thisTime = date.getTime();<br />
    this.timeInterval = thisTime &#8211; this.lastTime;<br />
    this.t += this.timeInterval;<br />
    this.lastTime = thisTime;</p>
<p>    if (this.drawStage !== undefined) {<br />
        this.drawStage();<br />
    }</p>
<p>    if (this.animating) {<br />
        requestAnimFrame(function(){<br />
            that.animationLoop();<br />
        });<br />
    }<br />
};</p>
<p>window.onload = function(){<br />
    // instantiate new animation object<br />
    var anim = new Animation(&#8220;myCanvas&#8221;);<br />
    var context = anim.getContext();<br />
    var canvas = anim.getCanvas();</p>
<p>    anim.setDrawStage(function(){<br />
        // update<br />
        var widthScale = Math.sin(this.getTime() / 200) * 0.1 + 0.9;<br />
        var heightScale = -1 * Math.sin(this.getTime() / 200) * 0.1 + 0.9;</p>
<p>        // clear<br />
        this.clear();</p>
<p>        //draw<br />
        context.beginPath();<br />
        context.save();<br />
        context.translate(canvas.width / 2, canvas.height / 2);<br />
        context.scale(widthScale, heightScale);<br />
        context.arc(0, 0, 65, 0, 2 * Math.PI, false);<br />
        context.restore();<br />
        context.fillStyle = &#8220;#8ED6FF&#8221;;<br />
        context.fill();<br />
        context.lineWidth = 2;<br />
        context.strokeStyle = &#8220;#555&#8221;;<br />
        context.stroke();</p>
<p>        context.beginPath();<br />
        context.save();<br />
        context.translate(canvas.width / 2, canvas.height / 2);<br />
        context.scale(widthScale, heightScale);<br />
        context.arc(-30, -30, 15, 0, 2 * Math.PI, false);<br />
        context.restore();<br />
        context.fillStyle = &#8220;white&#8221;;<br />
        context.fill();<br />
    });</p>
<p>    anim.start();<br />
};</p>
<p>[/script]</p>
<p>[/inline]</p>
<p>&nbsp;</p>
<p>In a nutshell, this is what is going on (note that the &#8216;animation&#8217; library is discussed in a previous chapter of the book): </p>
<p>&nbsp;</p>
<pre style='color:#000020;background:#f6f8ff; overflow: auto;'><span style='color:#308080; '>&lt;</span>script src<span style='color:#308080; '>=</span><span style='color:#800000; '>"</span><span style='color:#1060b6; '>animation.js</span><span style='color:#800000; '>"</span><span style='color:#308080; '>></span><span style='color:#308080; '>&lt;</span><span style='color:#308080; '>/</span>script<span style='color:#308080; '>></span>
<span style='color:#308080; '>&lt;</span>script<span style='color:#308080; '>></span>
    window<span style='color:#308080; '>.</span>onload <span style='color:#308080; '>=</span> <span style='color:#200080; font-weight:bold; '>function</span><span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>{</span>
        <span style='color:#595979; '>// instantiate new animation object</span>
        <span style='color:#200080; font-weight:bold; '>var</span> anim <span style='color:#308080; '>=</span> <span style='color:#200080; font-weight:bold; '>new</span> Animation<span style='color:#308080; '>(</span><span style='color:#800000; '>"</span><span style='color:#1060b6; '>myCanvas</span><span style='color:#800000; '>"</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
        <span style='color:#200080; font-weight:bold; '>var</span> context <span style='color:#308080; '>=</span> anim<span style='color:#308080; '>.</span>getContext<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
        <span style='color:#200080; font-weight:bold; '>var</span> canvas <span style='color:#308080; '>=</span> anim<span style='color:#308080; '>.</span>getCanvas<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
        
        anim<span style='color:#308080; '>.</span>setDrawStage<span style='color:#308080; '>(</span><span style='color:#200080; font-weight:bold; '>function</span><span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>{</span>
            <span style='color:#595979; '>// update</span>
            <span style='color:#200080; font-weight:bold; '>var</span> widthScale <span style='color:#308080; '>=</span> <span style='color:#007d45; '>Math</span><span style='color:#308080; '>.</span><span style='color:#200080; font-weight:bold; '>sin</span><span style='color:#308080; '>(</span><span style='color:#200080; font-weight:bold; '>this</span><span style='color:#308080; '>.</span><span style='color:#200080; font-weight:bold; '>getTime</span><span style='color:#308080; '>(</span><span style='color:#308080; '>)</span> <span style='color:#308080; '>/</span> <span style='color:#008c00; '>200</span><span style='color:#308080; '>)</span> <span style='color:#308080; '>*</span> <span style='color:#008000; '>0.1</span> <span style='color:#308080; '>+</span> <span style='color:#008000; '>0.9</span><span style='color:#406080; '>;</span>
            <span style='color:#200080; font-weight:bold; '>var</span> heightScale <span style='color:#308080; '>=</span> <span style='color:#308080; '>-</span><span style='color:#008c00; '>1</span> <span style='color:#308080; '>*</span> <span style='color:#007d45; '>Math</span><span style='color:#308080; '>.</span><span style='color:#200080; font-weight:bold; '>sin</span><span style='color:#308080; '>(</span><span style='color:#200080; font-weight:bold; '>this</span><span style='color:#308080; '>.</span><span style='color:#200080; font-weight:bold; '>getTime</span><span style='color:#308080; '>(</span><span style='color:#308080; '>)</span> <span style='color:#308080; '>/</span> <span style='color:#008c00; '>200</span><span style='color:#308080; '>)</span> <span style='color:#308080; '>*</span> <span style='color:#008000; '>0.1</span> <span style='color:#308080; '>+</span> <span style='color:#008000; '>0.9</span><span style='color:#406080; '>;</span>

            <span style='color:#595979; '>// clear</span>
            <span style='color:#200080; font-weight:bold; '>this</span><span style='color:#308080; '>.</span>clear<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            
            <span style='color:#595979; '>//draw</span>
            context<span style='color:#308080; '>.</span>beginPath<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>save<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>translate<span style='color:#308080; '>(</span>canvas<span style='color:#308080; '>.</span>width <span style='color:#308080; '>/</span> <span style='color:#008c00; '>2</span><span style='color:#308080; '>,</span> canvas<span style='color:#308080; '>.</span>height <span style='color:#308080; '>/</span> <span style='color:#008c00; '>2</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>scale<span style='color:#308080; '>(</span>widthScale<span style='color:#308080; '>,</span> heightScale<span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>arc<span style='color:#308080; '>(</span><span style='color:#008c00; '>0</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>0</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>65</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>0</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>2</span> <span style='color:#308080; '>*</span> <span style='color:#007d45; '>Math</span><span style='color:#308080; '>.</span>PI<span style='color:#308080; '>,</span> <span style='color:#0f4d75; '>false</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>restore<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>fillStyle <span style='color:#308080; '>=</span> <span style='color:#800000; '>"</span><span style='color:#1060b6; '>#8ED6FF</span><span style='color:#800000; '>"</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>fill<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>lineWidth <span style='color:#308080; '>=</span> <span style='color:#008c00; '>2</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>strokeStyle <span style='color:#308080; '>=</span> <span style='color:#800000; '>"</span><span style='color:#1060b6; '>#555</span><span style='color:#800000; '>"</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>stroke<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            
            context<span style='color:#308080; '>.</span>beginPath<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>save<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>translate<span style='color:#308080; '>(</span>canvas<span style='color:#308080; '>.</span>width <span style='color:#308080; '>/</span> <span style='color:#008c00; '>2</span><span style='color:#308080; '>,</span> canvas<span style='color:#308080; '>.</span>height <span style='color:#308080; '>/</span> <span style='color:#008c00; '>2</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>scale<span style='color:#308080; '>(</span>widthScale<span style='color:#308080; '>,</span> heightScale<span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>arc<span style='color:#308080; '>(</span><span style='color:#308080; '>-</span><span style='color:#008c00; '>30</span><span style='color:#308080; '>,</span> <span style='color:#308080; '>-</span><span style='color:#008c00; '>30</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>15</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>0</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>2</span> <span style='color:#308080; '>*</span> <span style='color:#007d45; '>Math</span><span style='color:#308080; '>.</span>PI<span style='color:#308080; '>,</span> <span style='color:#0f4d75; '>false</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>restore<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>fillStyle <span style='color:#308080; '>=</span> <span style='color:#800000; '>"</span><span style='color:#1060b6; '>white</span><span style='color:#800000; '>"</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>fill<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
        <span style='color:#406080; '>}</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
        
        anim<span style='color:#308080; '>.</span>start<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
    <span style='color:#406080; '>}</span><span style='color:#406080; '>;</span>
<span style='color:#308080; '>&lt;</span><span style='color:#308080; '>/</span>script<span style='color:#308080; '>></span>
</pre>
<p>&nbsp;</p>
<p>All in all, a book definitely worth reading!</p>
<p>&nbsp;</p>
]]></content:encoded>
									<post-id xmlns="com-wordpress:feed-additions:1">1815</post-id>	</item>
		<item>
		<title>Using Impromptu to visualize RSS feeds</title>
		<link>http://www.michelepasin.org/blog/2011/12/21/using-impromptu-to-visualize-rss-feeds/</link>
				<pubDate>Wed, 21 Dec 2011 13:22:30 +0000</pubDate>
		<dc:creator><![CDATA[mikele]]></dc:creator>
				<category><![CDATA[Computer Music]]></category>
		<category><![CDATA[canvas]]></category>
		<category><![CDATA[news]]></category>
		<category><![CDATA[rss]]></category>
		<category><![CDATA[visualization]]></category>
		<category><![CDATA[xml]]></category>

		<guid isPermaLink="false">http://www.michelepasin.org/blog/?p=1073</guid>
				<description><![CDATA[Some time ago I&#8217;ve been experimenting with the processing and display of RSS feeds within Impromptu, and as a result I built a small app that retrieves the news feed from The Guardian online and displays on a canvas. I&#8217;ve had a bit of free time these days, so last night I thought it was [&#8230;]]]></description>
								<content:encoded><![CDATA[<p>Some time ago I&#8217;ve been experimenting with the processing and display of <a href="http://www.google.co.uk/url?sa=t&#038;rct=j&#038;q=rss%20feed&#038;source=web&#038;cd=1&#038;ved=0CD0QFjAA&#038;url=http%3A%2F%2Fen.wikipedia.org%2Fwiki%2FRSS&#038;ei=K9jxTtyyMY-K4gSwibHBAQ&#038;usg=AFQjCNEdBSkFc9gzQ_IRDoz4mZzyuZwfbw">RSS feeds</a> within <a href="http://impromptu.moso.com.au/">Impromptu</a>, and as a result I built a small app that retrieves the news feed from <a href="http://www.guardian.co.uk/">The Guardian</a> online and displays on a canvas. I&#8217;ve had a bit of free time these days, so last night I thought it was time to polish it a little and make it available on this blog (who knows maybe someone else will use it as starting point for another project). </p>
<p><a href="http://www.flickr.com/photos/mikele/6549002895/" title="Visualizing rss feeds with Impromptu by MagIcReBirth, on Flickr"><img src="http://farm8.staticflickr.com/7147/6549002895_2b42b95cef.jpg" width="500" height="240" alt="Visualizing rss feeds with Impromptu"></a></p>
<blockquote><p>There&#8217;re a thousand improvements that could be done to it still, but the core of the application is there: I packaged it as a standalone app that you can <a href="http://www.box.com/s/oprvyybridp0gtij8j5d">download here</a>. (use the &#8216;show package contents&#8217; Finder command to see the source code). </p></blockquote>
<p>The application relies on a bunch of XML processing functions that I found within Impromptu &#8216;examples&#8217; folder (specifically, it&#8217;s the example named <a href="http://impromptu.moso.com.au/examples_2.5/35_objc_xml_lib.html">35_objc_xml_lib</a>). I pruned that a bit so to fit my purposes and renamed it <span style="font-family:monospace;color:#000000; ">xml_lib.scm</span>. </p>
<p>By using that, I created a function that extracts title and url info from the guardian feed:</p>
<pre style='color:#000000;background:#ffffff;'><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>load</span> <span style='color:#0000e6; '>"xml_lib.scm"</span><span style='color:#808030; '>)</span>
<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>define</span> feedurl <span style='color:#0000e6; '>"http://feeds.guardian.co.uk/theguardian/world/rss"</span><span style='color:#808030; '>)</span>

<span style='color:#696969; '>;;</span>
<span style='color:#696969; '>;; loads the feed and extracts title and url</span>
<span style='color:#696969; '>;;</span>

<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>define</span> get-articles-online
     <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>lambda</span> <span style='color:#808030; '>(</span><span style='color:#808030; '>)</span>
        <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>let*</span> <span style='color:#808030; '>(</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>out</span> <span style='color:#800080; '>'</span><span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
               <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>feed</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>xml:load-url</span> feedurl<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
               <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>titles</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>objc:nsarray->list</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>xml:xpath</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>xml:get-root-node</span> feed<span style='color:#808030; '>)</span>
                                                <span style='color:#0000e6; '>"channel/item/title/text()"</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
               <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>urls</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>objc:nsarray->list</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>xml:xpath</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>xml:get-root-node</span> feed<span style='color:#808030; '>)</span>
                                                <span style='color:#0000e6; '>"channel/item/link/text()"</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>                                                 
           <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>for-each</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>lambda</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>x</span> y<span style='color:#808030; '>)</span>
                        <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>let</span> <span style='color:#808030; '>(</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>xx</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>objc:nsstring->string</span> x<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
                              <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>yy</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>objc:nsstring->string</span> y<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
                           <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>set!</span> out <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>append</span> out <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>list</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>list</span> xx yy<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
                titles urls<span style='color:#808030; '>)</span>
           out<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
</pre>
<p>Some feed titles are a bit longish, so I added a utility function <span style="font-family:monospace;color:#000000; ">formattext</span> that wraps the titles&#8217; text if they exceed a predefined length. </p>
<pre style='color:#000000;background:#ffffff;'><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>define</span> formattext 
   <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>lambda</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>maxlength</span> txt posx posy<span style='color:#808030; '>)</span>
      <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>let</span> <span style='color:#808030; '>(</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>l</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>string-length</span> txt<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>      
         <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>if</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>></span> l maxlength<span style='color:#808030; '>)</span>
             <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>let</span> loop <span style='color:#808030; '>(</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>i</span> <span style='color:#008c00; '>0</span><span style='color:#808030; '>)</span>
                        <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>j</span> maxlength<span style='color:#808030; '>)</span> <span style='color:#696969; '>;; comparison value: it decreases at each recursion (except the first one) </span>
                        <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>topvalue</span> maxlength<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span> <span style='color:#696969; '>;; komodo value : must be equal to j at the beginning</span>
                <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>if</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>equal?</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>-</span> topvalue i<span style='color:#808030; '>)</span> j<span style='color:#808030; '>)</span> <span style='color:#696969; '>;; the first time</span>
                    <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>loop</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>+</span> i <span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span> j topvalue<span style='color:#808030; '>)</span>
                    <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>begin</span>   <span style='color:#696969; '>;(print (substring txt (- topvalue i) j))</span>
                             <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>if</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>string=?</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>substring</span> txt <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>-</span> topvalue i<span style='color:#808030; '>)</span> j<span style='color:#808030; '>)</span> <span style='color:#0000e6; '>" "</span><span style='color:#808030; '>)</span>
                                 <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>string-append</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>substring</span> txt <span style='color:#008c00; '>0</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>-</span> topvalue i<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span> 
                                                <span style='color:#0000e6; '>"n"</span> 
                                                <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>substring</span> txt <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>-</span> topvalue i<span style='color:#808030; '>)</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>string-length</span> txt<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
                                 <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>if</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>&lt;</span> i topvalue<span style='color:#808030; '>)</span> <span style='color:#696969; '>;;avoid negative indexes in substring</span>
                                     <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>loop</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>+</span> i <span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>-</span> j <span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span> topvalue<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
             txt<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
</pre>
<p>And here&#8217;s the <strong>main loop</strong>: it goes through all the feed items at a predefined speed, and displays it on the canvas using a cosine oscillator to vary the colours a bit. At the end of it I&#8217;m also updating 3 global variables that are used for the mouse-click-capturing routine. </p>
<pre style='color:#000000;background:#ffffff;'><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>define</span> displayloop
   <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>lambda</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>beat</span> feeds<span style='color:#808030; '>)</span> 
      <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>let*</span> <span style='color:#808030; '>(</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>dur</span> <span style='color:#008c00; '>5</span><span style='color:#808030; '>)</span>
             <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>posx</span>  <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>random</span> <span style='color:#008c00; '>0</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>-</span> *canvas_max_x* <span style='color:#008c00; '>350</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
             <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>posy</span>  <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>random</span> <span style='color:#008c00; '>10</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>-</span> *canvas_max_y* <span style='color:#008c00; '>150</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
             <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>txt</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>formattext</span> <span style='color:#008c00; '>40</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>car</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>car</span> feeds<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span> posx posy<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
             <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>dim</span> <span style='color:#696969; '>;(+ (length feeds) 10))                  </span>
                  <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>if</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>=</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>length</span> feeds<span style='color:#808030; '>)</span> <span style='color:#008c00; '>29</span><span style='color:#808030; '>)</span>
                      <span style='color:#008c00; '>60</span>  <span style='color:#696969; '>;; if it's the first element of the feed list make it bigger</span>
                      <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>random</span> <span style='color:#008c00; '>25</span> <span style='color:#008c00; '>50</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
             <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>fill</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>if</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>=</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>length</span> feeds<span style='color:#808030; '>)</span> <span style='color:#008c00; '>29</span><span style='color:#808030; '>)</span>
                         <span style='color:#800080; '>'</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>1</span> <span style='color:#008c00; '>0</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>random</span><span style='color:#808030; '>)</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span>  <span style='color:#696969; '>;; if it's the first element of the feed list make it reddish</span>
                         <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>list</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>random</span><span style='color:#808030; '>)</span> <span style='color:#008c00; '>1</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>random</span><span style='color:#808030; '>)</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
             <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>style</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>gfx:make-text-style</span> <span style='color:#0000e6; '>"Arial"</span> dim fill<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
         <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>gfx:clear-canvas</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>*metro*</span> beat<span style='color:#808030; '>)</span> *canvas* <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>list</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>cosr</span> <span style='color:#008000; '>.5</span> <span style='color:#008000; '>.6</span> <span style='color:#008000; '>.001</span><span style='color:#808030; '>)</span> <span style='color:#008c00; '>0</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>cosr</span> <span style='color:#008000; '>.5</span> <span style='color:#008000; '>.6</span> <span style='color:#008000; '>.001</span><span style='color:#808030; '>)</span> <span style='color:#008000; '>.5</span> <span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
         <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>gfx:draw-text</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>*metro*</span> beat<span style='color:#808030; '>)</span> *canvas* txt style <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>list</span> posx posy<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
         <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>set!</span> *pos_x* posx<span style='color:#808030; '>)</span>
         <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>set!</span> *pos_y* posy<span style='color:#808030; '>)</span>
         <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>set!</span> *current_url* <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>cadr</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>car</span> feeds<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
     <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>callback</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>*metro*</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>+</span> beat <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>*</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>/</span><span style='color:#008c00; '>2</span> dur<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span> <span style='color:#800080; '>'displayloop</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>+</span> beat dur<span style='color:#808030; '>)</span>
               <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>if-cdr-notnull</span> feeds 
                               <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>get-articles-online</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
</pre>
<p>In order to capture the clicks on the feed titles I simply create a rectangle path based on the x,y coordinates randomly assigned when displaying the title on the canvas. These coordinates are stored in global variables so that they can be updated constantly. </p>
<pre style='color:#000000;background:#ffffff;'><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>io:register-mouse-events</span> *canvas*<span style='color:#808030; '>)</span>
<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>define</span> io<span style='color:#400000; '>:mouse-down</span>
   <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>lambda</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>x</span> y<span style='color:#808030; '>)</span>
      <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>print</span> x y<span style='color:#808030; '>)</span>
      <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>when</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>gfx:point-in-path?</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>gfx:make-rectangle</span> *pos_x* *pos_y* <span style='color:#008c00; '>200</span> <span style='color:#008c00; '>200</span><span style='color:#808030; '>)</span> x y <span style='color:#808030; '>)</span>
            <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>util:open-url</span> *current_url*<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
</pre>
<p>Finally, the <span style="font-family:monospace;color:#000000; ">util:open-url</span> opens up a url string in your browser (I&#8217;ve already talked about it <a href="http://www.michelepasin.org/blog/2010/02/15/impromptu-function-to-access-wiki-docs-from-the-editor/">here</a>). </p>
<p>You can see all of this code in action by <a href="http://www.box.com/s/oprvyybridp0gtij8j5d">downloading the app</a> and taking a look its contents (all the files are under <span style="font-family:monospace;color:#000000; ">Contents/Resources/app</span>). </p>
<p><a href="http://www.flickr.com/photos/mikele/6549002521/" title="Visualizing rss feeds with Impromptu by MagIcReBirth, on Flickr"><img src="http://farm8.staticflickr.com/7011/6549002521_9b39fb2120.jpg" width="500" height="262" alt="Visualizing rss feeds with Impromptu"></a></p>
<h3>If I had the time…</h3>
<p>Some other things it&#8217;d be nice to do:</p>
<li>Creating a routine that makes the <strong>transitions</strong> among feed items <strong>less abrupt</strong>, maybe by using canvas layers.</li>
<li>Refining the <strong>clicking events</strong> creation: now you can click only on the most recent title; moreover the clicking event handler is updated too quickly, thus unless you click on the titles as soon as it appears you won&#8217;t be able to trigger the open-url action.</li>
<li>Refining the <strong>xml-tree parsing</strong> function, which now is very very minimal. We could extract news entries description and other stuff that can make the app more informative.</li>
<li>Adding some <strong>background music</strong> to it.</li>
<p>Any other ideas?</p>
<p>&nbsp;</p>
]]></content:encoded>
									<post-id xmlns="com-wordpress:feed-additions:1">1073</post-id>	</item>
		<item>
		<title>First steps with Canvas and HTML5</title>
		<link>http://www.michelepasin.org/blog/2011/08/25/first-steps-with-canvas-and-html5/</link>
				<pubDate>Thu, 25 Aug 2011 14:47:35 +0000</pubDate>
		<dc:creator><![CDATA[mikele]]></dc:creator>
				<category><![CDATA[TechLife]]></category>
		<category><![CDATA[canvas]]></category>
		<category><![CDATA[drawing]]></category>
		<category><![CDATA[html5]]></category>

		<guid isPermaLink="false">http://www.michelepasin.org/blog/?p=1503</guid>
				<description><![CDATA[I&#8217;ve been postponing experimenting with HTML5 for quite a while, so today I finally set aside a few hours to play with it. This is a very simple example of the graphic effects you can create using javascript and the HTML5 canvas element.. Note that the examples below will work only on HTML5-compatible browsers, such [&#8230;]]]></description>
								<content:encoded><![CDATA[<p>I&#8217;ve been postponing experimenting with <a href="http://en.wikipedia.org/wiki/HTML5">HTML5</a> for quite a while, so today I finally set aside a few hours to play with it. This is a very simple example of the graphic effects you can create using javascript and the HTML5 canvas element.. </p>
<p>Note that the examples below will work only on HTML5-compatible browsers, such as the latest versions of Chrome or Firefox..</p>
<h3>1. Setting up a canvas and drawing some lines on it.</h3>
<p>This is easily done using the <em>moveTo</em> and <em>lineTo</em> functions. So let&#8217;s create a simple symmetrical geometrical shape..</p>
<p></p>
<p><canvas id="myCanvas1" width="800" height="400" style="border:1px dashed #c3c3c3;"><br />
Your browser does not support the canvas element.<br />
</canvas></p>
<p>[inline]</p>
<p>[script type=&#8221;text/javascript&#8221;]</p>
<p>var c=document.getElementById(&#8220;myCanvas1&#8221;);<br />
var cxt=c.getContext(&#8220;2d&#8221;);<br />
var i=0;</p>
<p>for (i=1;i<=5;i++)
{
cxt.moveTo(0, 400);
cxt.lineTo(100, i * 40);
cxt.lineTo(300, i * 60);
cxt.lineTo(400, i * 30);
cxt.lineTo(500, i * 60);
cxt.lineTo(700, i * 40);
cxt.lineTo(800, 400);
}

cxt.stroke();

[/script]

[/inline]










<p>Here&#8217;s the source code:</p>
<pre style='overflow:auto; color:#000020;background:#f6f8ff;'><span style='color:#004a43; '>&lt;!DOCTYPE HTML></span>
<span style='color:#0057a6; '>&lt;</span><span style='color:#200080; font-weight:bold; '>html</span><span style='color:#0057a6; '>></span>
<span style='color:#0057a6; '>&lt;</span><span style='color:#200080; font-weight:bold; '>body</span><span style='color:#0057a6; '>></span>

<span style='color:#0057a6; '>&lt;</span><span style='color:#333385; '>canvas</span><span style='color:#474796; '> </span><span style='color:#074726; '>id</span><span style='color:#308080; '>=</span><span style='color:#1060b6; '>"myCanvas1"</span><span style='color:#474796; '> </span><span style='color:#074726; '>width</span><span style='color:#308080; '>=</span><span style='color:#1060b6; '>"800"</span><span style='color:#474796; '> </span><span style='color:#074726; '>height</span><span style='color:#308080; '>=</span><span style='color:#1060b6; '>"400"</span><span style='color:#474796; '> </span><span style='color:#074726; '>style</span><span style='color:#308080; '>=</span><span style='color:#1060b6; '>"</span><span style='color:#7779bb; font-weight:bold; '>border</span><span style='color:#308080; '>:</span><span style='color:#008c00; '>1</span><span style='color:#006600; '>px</span><span style='color:#474796; '> </span><span style='color:#074726; '>dashed</span><span style='color:#474796; '> </span><span style='color:#008c00; '>#</span><span style='color:#008000; '>c3c3c3</span><span style='color:#406080; '>;</span><span style='color:#1060b6; '>"</span><span style='color:#0057a6; '>></span>
Your browser does not support the canvas element<span style='color:#008c00; '>.</span>
<span style='color:#0057a6; '>&lt;/</span><span style='color:#333385; '>canvas</span><span style='color:#0057a6; '>></span>

<span style='color:#0057a6; '>&lt;</span><span style='color:#200080; font-weight:bold; '>script type="text/javascript"</span><span style='color:#0057a6; '>></span>

<span style='color:#200080; font-weight:bold; '>var</span> c<span style='color:#308080; '>=</span>document<span style='color:#308080; '>.</span>getElementById<span style='color:#308080; '>(</span><span style='color:#1060b6; '>"myCanvas1"</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#200080; font-weight:bold; '>var</span> cxt<span style='color:#308080; '>=</span>c<span style='color:#308080; '>.</span>getContext<span style='color:#308080; '>(</span><span style='color:#1060b6; '>"2d"</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#200080; font-weight:bold; '>var</span> i<span style='color:#308080; '>=</span><span style='color:#008c00; '>0</span><span style='color:#406080; '>;</span>

<span style='color:#200080; font-weight:bold; '>for</span> <span style='color:#308080; '>(</span>i<span style='color:#308080; '>=</span><span style='color:#008c00; '>1</span><span style='color:#406080; '>;</span>i<span style='color:#308080; '>&lt;=</span><span style='color:#008c00; '>5</span><span style='color:#406080; '>;</span>i<span style='color:#308080; '>++</span><span style='color:#308080; '>)</span>
<span style='color:#406080; '>{</span>
cxt<span style='color:#308080; '>.</span>moveTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>0</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>400</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>100</span><span style='color:#308080; '>,</span> i <span style='color:#308080; '>*</span> <span style='color:#008c00; '>40</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>300</span><span style='color:#308080; '>,</span> i <span style='color:#308080; '>*</span> <span style='color:#008c00; '>60</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>400</span><span style='color:#308080; '>,</span> i <span style='color:#308080; '>*</span> <span style='color:#008c00; '>30</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>500</span><span style='color:#308080; '>,</span> i <span style='color:#308080; '>*</span> <span style='color:#008c00; '>60</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>700</span><span style='color:#308080; '>,</span> i <span style='color:#308080; '>*</span> <span style='color:#008c00; '>40</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>800</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>400</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#406080; '>}</span>

cxt<span style='color:#308080; '>.</span>stroke<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>

<span style='color:#0057a6; '>&lt;/</span><span style='color:#200080; font-weight:bold; '>script</span><span style='color:#0057a6; '>></span>

<span style='color:#0057a6; '>&lt;/</span><span style='color:#200080; font-weight:bold; '>body</span><span style='color:#0057a6; '>></span>
<span style='color:#0057a6; '>&lt;/</span><span style='color:#200080; font-weight:bold; '>html</span><span style='color:#0057a6; '>></span>
</pre>
<p>&nbsp;</p>
<h3>2. Creating a mirroring effect</h3>
<p>Now we can increase the size of the canvas to 800 and replicate these lines at the bottom of the canvas so to achieve a &#8216;mirroring&#8217; effect.. since we know the max Y value of the canvas (800), let&#8217;s just add another loop that draws the same lines but <em>inverts</em> the Y position. This is easily achieved by subtracting the constant-dependent parameter from the max value of Y.</p>
<p></p>
<p><canvas id="myCanvas2" width="800" height="800" style="border:1px dashed #c3c3c3;"><br />
Your browser does not support the canvas element.<br />
</canvas></p>
<p>[inline]</p>
<p>[script type=&#8221;text/javascript&#8221;]</p>
<p>var c=document.getElementById(&#8220;myCanvas2&#8221;);<br />
var cxt=c.getContext(&#8220;2d&#8221;);<br />
var i=0;</p>
<p>for (i=1;i<=5;i++)
{
cxt.moveTo(0, 400);
cxt.lineTo(100, i * 40);
cxt.lineTo(300, i * 60);
cxt.lineTo(400, i * 30);
cxt.lineTo(500, i * 60);
cxt.lineTo(700, i * 40);
cxt.lineTo(800, 400);
}


for (i=5;i>=1;i&#8211;)<br />
{<br />
cxt.moveTo(0, 400);<br />
cxt.lineTo(100, 800 &#8211; (i * 40));<br />
cxt.lineTo(300, 800 &#8211; (i * 60));<br />
cxt.lineTo(400, 800 &#8211; (i * 30));<br />
cxt.lineTo(500, 800 &#8211; (i * 60));<br />
cxt.lineTo(700, 800 &#8211; (i * 40));<br />
cxt.lineTo(800, 400);<br />
}</p>
<p>cxt.stroke();</p>
<p>[/script]</p>
<p>[/inline]</p>
<p>This is how the new source code looks like:</p>
<pre style='overflow: auto; color:#000020;background:#f6f8ff;'><span style='color:#0057a6; '>&lt;</span><span style='color:#333385; '>canvas</span><span style='color:#474796; '> </span><span style='color:#074726; '>id</span><span style='color:#308080; '>=</span><span style='color:#1060b6; '>"myCanvas2"</span><span style='color:#474796; '> </span><span style='color:#074726; '>width</span><span style='color:#308080; '>=</span><span style='color:#1060b6; '>"800"</span><span style='color:#474796; '> </span><span style='color:#074726; '>height</span><span style='color:#308080; '>=</span><span style='color:#1060b6; '>"800"</span><span style='color:#474796; '> </span><span style='color:#074726; '>style</span><span style='color:#308080; '>=</span><span style='color:#1060b6; '>"</span><span style='color:#7779bb; font-weight:bold; '>border</span><span style='color:#308080; '>:</span><span style='color:#008c00; '>1</span><span style='color:#006600; '>px</span><span style='color:#474796; '> </span><span style='color:#074726; '>dashed</span><span style='color:#474796; '> </span><span style='color:#008c00; '>#</span><span style='color:#008000; '>c3c3c3</span><span style='color:#406080; '>;</span><span style='color:#1060b6; '>"</span><span style='color:#0057a6; '>></span>
Your browser does not support the canvas element<span style='color:#008c00; '>.</span>
<span style='color:#0057a6; '>&lt;/</span><span style='color:#333385; '>canvas</span><span style='color:#0057a6; '>></span>

<span style='color:#0057a6; '>&lt;</span><span style='color:#200080; font-weight:bold; '>script type="text/javascript"</span><span style='color:#0057a6; '>></span>

<span style='color:#200080; font-weight:bold; '>var</span> c<span style='color:#308080; '>=</span>document<span style='color:#308080; '>.</span>getElementById<span style='color:#308080; '>(</span><span style='color:#1060b6; '>"myCanvas2"</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#200080; font-weight:bold; '>var</span> cxt<span style='color:#308080; '>=</span>c<span style='color:#308080; '>.</span>getContext<span style='color:#308080; '>(</span><span style='color:#1060b6; '>"2d"</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#200080; font-weight:bold; '>var</span> i<span style='color:#308080; '>=</span><span style='color:#008c00; '>0</span><span style='color:#406080; '>;</span>

<span style='color:#200080; font-weight:bold; '>for</span> <span style='color:#308080; '>(</span>i<span style='color:#308080; '>=</span><span style='color:#008c00; '>1</span><span style='color:#406080; '>;</span>i<span style='color:#308080; '>&lt;=</span><span style='color:#008c00; '>5</span><span style='color:#406080; '>;</span>i<span style='color:#308080; '>++</span><span style='color:#308080; '>)</span>
<span style='color:#406080; '>{</span>
cxt<span style='color:#308080; '>.</span>moveTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>0</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>400</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>100</span><span style='color:#308080; '>,</span> i <span style='color:#308080; '>*</span> <span style='color:#008c00; '>40</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>300</span><span style='color:#308080; '>,</span> i <span style='color:#308080; '>*</span> <span style='color:#008c00; '>60</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>400</span><span style='color:#308080; '>,</span> i <span style='color:#308080; '>*</span> <span style='color:#008c00; '>30</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>500</span><span style='color:#308080; '>,</span> i <span style='color:#308080; '>*</span> <span style='color:#008c00; '>60</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>700</span><span style='color:#308080; '>,</span> i <span style='color:#308080; '>*</span> <span style='color:#008c00; '>40</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>800</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>400</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#406080; '>}</span>


<span style='color:#200080; font-weight:bold; '>for</span> <span style='color:#308080; '>(</span>i<span style='color:#308080; '>=</span><span style='color:#008c00; '>5</span><span style='color:#406080; '>;</span>i<span style='color:#308080; '>>=</span><span style='color:#008c00; '>1</span><span style='color:#406080; '>;</span>i<span style='color:#308080; '>--</span><span style='color:#308080; '>)</span>
<span style='color:#406080; '>{</span>
cxt<span style='color:#308080; '>.</span>moveTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>0</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>400</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>100</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>800</span> <span style='color:#308080; '>-</span> <span style='color:#308080; '>(</span>i <span style='color:#308080; '>*</span> <span style='color:#008c00; '>40</span><span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>300</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>800</span> <span style='color:#308080; '>-</span> <span style='color:#308080; '>(</span>i <span style='color:#308080; '>*</span> <span style='color:#008c00; '>60</span><span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>400</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>800</span> <span style='color:#308080; '>-</span> <span style='color:#308080; '>(</span>i <span style='color:#308080; '>*</span> <span style='color:#008c00; '>30</span><span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>500</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>800</span> <span style='color:#308080; '>-</span> <span style='color:#308080; '>(</span>i <span style='color:#308080; '>*</span> <span style='color:#008c00; '>60</span><span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>700</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>800</span> <span style='color:#308080; '>-</span> <span style='color:#308080; '>(</span>i <span style='color:#308080; '>*</span> <span style='color:#008c00; '>40</span><span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>800</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>400</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#406080; '>}</span>

cxt<span style='color:#308080; '>.</span>stroke<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>

<span style='color:#0057a6; '>&lt;/</span><span style='color:#200080; font-weight:bold; '>script</span><span style='color:#0057a6; '>></span>
</pre>
<p>&nbsp;</p>
<h3>3. Adding more graphical interest</h3>
<p>Finally, let&#8217;s parametrize a bit more the construction of this geometrical pattern by including everything into another loop, and using this new counter to increment the points ordinate position. We&#8217;ll add a new variable y and use it to run the external loop 20 times. Here&#8217;s the result:</p>
<p></p>
<p><canvas id="myCanvas3" width="800" height="800" style="border:1px dashed #c3c3c3;"><br />
Your browser does not support the canvas element.<br />
</canvas></p>
<p>[inline]</p>
<p>[script type=&#8221;text/javascript&#8221;]</p>
<p>var c=document.getElementById(&#8220;myCanvas3&#8221;);<br />
var cxt=c.getContext(&#8220;2d&#8221;);<br />
var i=0;<br />
var y=0;</p>
<p>for (y=1;y<=20;y++)
{
	
	for (i=1;i<=5;i++)
	{
	cxt.moveTo(0, 400+y);
	cxt.lineTo(100, i * (40+y));
	cxt.lineTo(300, i * (60+y));
	cxt.lineTo(400, i * (30+y));
    cxt.lineTo(500, i * (60+y));
	cxt.lineTo(700, i * (40+y));
	cxt.lineTo(800, 400+y);
	}


	for (i=5;i>=1;i&#8211;)<br />
	{<br />
	cxt.moveTo(0, 400);<br />
	cxt.lineTo(100, 800 &#8211; (i * (40+y)));<br />
	cxt.lineTo(300, 800 &#8211; (i * (60+y)));<br />
	cxt.lineTo(400, 800 &#8211; (i * (30+y)));<br />
	cxt.lineTo(500, 800 &#8211; (i * (60+y)));<br />
	cxt.lineTo(700, 800 &#8211; (i * (40+y)));<br />
	cxt.lineTo(800, 400+y);<br />
	}</p>
<p>}</p>
<p>cxt.stroke();</p>
<p>[/script]</p>
<p>[/inline]</p>
<p>Not too bad uh? This last modification to the code looks like this:</p>
<pre style='overflow:auto; color:#000020;background:#f6f8ff;'><span style='color:#0057a6; '>&lt;</span><span style='color:#333385; '>canvas</span><span style='color:#474796; '> </span><span style='color:#074726; '>id</span><span style='color:#308080; '>=</span><span style='color:#1060b6; '>"myCanvas3"</span><span style='color:#474796; '> </span><span style='color:#074726; '>width</span><span style='color:#308080; '>=</span><span style='color:#1060b6; '>"800"</span><span style='color:#474796; '> </span><span style='color:#074726; '>height</span><span style='color:#308080; '>=</span><span style='color:#1060b6; '>"800"</span><span style='color:#474796; '> </span><span style='color:#074726; '>style</span><span style='color:#308080; '>=</span><span style='color:#1060b6; '>"</span><span style='color:#7779bb; font-weight:bold; '>border</span><span style='color:#308080; '>:</span><span style='color:#008c00; '>1</span><span style='color:#006600; '>px</span><span style='color:#474796; '> </span><span style='color:#074726; '>dashed</span><span style='color:#474796; '> </span><span style='color:#008c00; '>#</span><span style='color:#008000; '>c3c3c3</span><span style='color:#406080; '>;</span><span style='color:#1060b6; '>"</span><span style='color:#0057a6; '>></span>
Your browser does not support the canvas element<span style='color:#008c00; '>.</span>
<span style='color:#0057a6; '>&lt;/</span><span style='color:#333385; '>canvas</span><span style='color:#0057a6; '>></span>

<span style='color:#0057a6; '>&lt;</span><span style='color:#200080; font-weight:bold; '>script type="text/javascript"</span><span style='color:#0057a6; '>></span>

<span style='color:#200080; font-weight:bold; '>var</span> c<span style='color:#308080; '>=</span>document<span style='color:#308080; '>.</span>getElementById<span style='color:#308080; '>(</span><span style='color:#1060b6; '>"myCanvas3"</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#200080; font-weight:bold; '>var</span> cxt<span style='color:#308080; '>=</span>c<span style='color:#308080; '>.</span>getContext<span style='color:#308080; '>(</span><span style='color:#1060b6; '>"2d"</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
<span style='color:#200080; font-weight:bold; '>var</span> i<span style='color:#308080; '>=</span><span style='color:#008c00; '>0</span><span style='color:#406080; '>;</span>
<span style='color:#200080; font-weight:bold; '>var</span> y<span style='color:#308080; '>=</span><span style='color:#008c00; '>0</span><span style='color:#406080; '>;</span>

<span style='color:#200080; font-weight:bold; '>for</span> <span style='color:#308080; '>(</span>y<span style='color:#308080; '>=</span><span style='color:#008c00; '>1</span><span style='color:#406080; '>;</span>y<span style='color:#308080; '>&lt;=</span><span style='color:#008c00; '>20</span><span style='color:#406080; '>;</span>y<span style='color:#308080; '>++</span><span style='color:#308080; '>)</span>
<span style='color:#406080; '>{</span>
    
    <span style='color:#200080; font-weight:bold; '>for</span> <span style='color:#308080; '>(</span>i<span style='color:#308080; '>=</span><span style='color:#008c00; '>1</span><span style='color:#406080; '>;</span>i<span style='color:#308080; '>&lt;=</span><span style='color:#008c00; '>5</span><span style='color:#406080; '>;</span>i<span style='color:#308080; '>++</span><span style='color:#308080; '>)</span>
    <span style='color:#406080; '>{</span>
    cxt<span style='color:#308080; '>.</span>moveTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>0</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>400</span><span style='color:#308080; '>+</span>y<span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
    cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>100</span><span style='color:#308080; '>,</span> i <span style='color:#308080; '>*</span> <span style='color:#308080; '>(</span><span style='color:#008c00; '>40</span><span style='color:#308080; '>+</span>y<span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
    cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>300</span><span style='color:#308080; '>,</span> i <span style='color:#308080; '>*</span> <span style='color:#308080; '>(</span><span style='color:#008c00; '>60</span><span style='color:#308080; '>+</span>y<span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
    cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>400</span><span style='color:#308080; '>,</span> i <span style='color:#308080; '>*</span> <span style='color:#308080; '>(</span><span style='color:#008c00; '>30</span><span style='color:#308080; '>+</span>y<span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
    cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>500</span><span style='color:#308080; '>,</span> i <span style='color:#308080; '>*</span> <span style='color:#308080; '>(</span><span style='color:#008c00; '>60</span><span style='color:#308080; '>+</span>y<span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
    cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>700</span><span style='color:#308080; '>,</span> i <span style='color:#308080; '>*</span> <span style='color:#308080; '>(</span><span style='color:#008c00; '>40</span><span style='color:#308080; '>+</span>y<span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
    cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>800</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>400</span><span style='color:#308080; '>+</span>y<span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
    <span style='color:#406080; '>}</span>


    <span style='color:#200080; font-weight:bold; '>for</span> <span style='color:#308080; '>(</span>i<span style='color:#308080; '>=</span><span style='color:#008c00; '>5</span><span style='color:#406080; '>;</span>i<span style='color:#308080; '>>=</span><span style='color:#008c00; '>1</span><span style='color:#406080; '>;</span>i<span style='color:#308080; '>--</span><span style='color:#308080; '>)</span>
    <span style='color:#406080; '>{</span>
    cxt<span style='color:#308080; '>.</span>moveTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>0</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>400</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
    cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>100</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>800</span> <span style='color:#308080; '>-</span> <span style='color:#308080; '>(</span>i <span style='color:#308080; '>*</span> <span style='color:#308080; '>(</span><span style='color:#008c00; '>40</span><span style='color:#308080; '>+</span>y<span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
    cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>300</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>800</span> <span style='color:#308080; '>-</span> <span style='color:#308080; '>(</span>i <span style='color:#308080; '>*</span> <span style='color:#308080; '>(</span><span style='color:#008c00; '>60</span><span style='color:#308080; '>+</span>y<span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
    cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>400</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>800</span> <span style='color:#308080; '>-</span> <span style='color:#308080; '>(</span>i <span style='color:#308080; '>*</span> <span style='color:#308080; '>(</span><span style='color:#008c00; '>30</span><span style='color:#308080; '>+</span>y<span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
    cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>500</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>800</span> <span style='color:#308080; '>-</span> <span style='color:#308080; '>(</span>i <span style='color:#308080; '>*</span> <span style='color:#308080; '>(</span><span style='color:#008c00; '>60</span><span style='color:#308080; '>+</span>y<span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
    cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>700</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>800</span> <span style='color:#308080; '>-</span> <span style='color:#308080; '>(</span>i <span style='color:#308080; '>*</span> <span style='color:#308080; '>(</span><span style='color:#008c00; '>40</span><span style='color:#308080; '>+</span>y<span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
    cxt<span style='color:#308080; '>.</span>lineTo<span style='color:#308080; '>(</span><span style='color:#008c00; '>800</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>400</span><span style='color:#308080; '>+</span>y<span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
    <span style='color:#406080; '>}</span>

<span style='color:#406080; '>}</span>

cxt<span style='color:#308080; '>.</span>stroke<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>

<span style='color:#0057a6; '>&lt;/</span><span style='color:#200080; font-weight:bold; '>script</span><span style='color:#0057a6; '>></span>
</pre>
<p>&nbsp;</p>
<h3>Cool! I&#8217;d like to know more..</h3>
<p>Yes, I agree. This opens up a new world for web-based graphics.. and I just scratched the surface of it! In particular I&#8217;d like to see how this type of graphical components can be used to compose visualizations in the digital humanities &#8211; provided more interactivity is added to them.</p>
<p>Here are a couple if learning resources I found useful:</p>
<li><a href="http://www.netmagazine.com/tutorials/learning-basics-html5-canvas">Learning the basics of HTML5</a> canvas on .Net magazine online</li>
<li><a href="https://developer.mozilla.org/en/canvas_tutorial">Canvas tutorial</a> on Mozilla.org (more advanced)</li>
<li><a href="http://ajaxpatterns.org/Javascript_Graphics_and_Effects_Frameworks">Javascript Graphics and Effects Frameworks</a>: useful document providing a list of the most common libraries for doing javascript-based graphics</li>
<li><a href="http://billmill.org/static/canvastutorial/index.html">Canvas and interactivity tutorial</a>: a step by step discussion on how to create a &#8216;breakout&#8217; game clone that you can play in your browser, using javascript and the canvas element</li>
<li><a href="http://dev.opera.com/articles/view/html5-canvas-painting/">Creating an HTML 5 canvas painting application</a>: nice tutorial that shows how to put together several canvas drawing techniques so to build a basic &#8216;painting&#8217; application</li>
<li><a href="http://net.tutsplus.com/articles/web-roundups/21-ridiculously-impressive-html5-canvas-experiments/">21 Ridiculously Impressive HTML5 Canvas Experiments</a>: a collection of some state-of-the-art HTML5 canvas-based experiments that will make you say, “Wow!”</li>
<p>&nbsp;</p>
<p>&nbsp;</p>
]]></content:encoded>
									<post-id xmlns="com-wordpress:feed-additions:1">1503</post-id>	</item>
	</channel>
</rss>
