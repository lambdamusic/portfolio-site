<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
	<head profile="http://gmpg.org/xfn/11">
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>Parerga und Paralipomena  &raquo; Blog Archive   &raquo; HTML5 Canvas Cookbook		</title>
		<meta name="generator" content="WordPress 5.2.11" /> <!-- leave this for stats -->
		<link rel="stylesheet" href="../../../../wp-content/themes/ub_modio/style.css" type="text/css" media="screen" />
		<link rel="alternate" type="application/rss+xml" title="Parerga und Paralipomena RSS Feed" href="../../../../feed/index.html" />
		<link rel="pingback" href="http://www.michelepasin.org/blog/xmlrpc.php" />
		
		<!--[if lte IE 6]>
		<link rel="stylesheet" type="text/css" href="http://www.michelepasin.org/blog/wp-content/themes/ub_modio/ie.css">
		<![endif]-->
		<link rel="shortcut icon" href="http://www.michelepasin.org/blog/2012/02/08/html5-canvas-cookbook/favicon.ico">
<link rel='dns-prefetch' href='http://secure.gravatar.com/' />
<link rel='dns-prefetch' href='http://s.w.org/' />
<!-- This site uses the Google Analytics by MonsterInsights plugin v7.15.1 - Using Analytics tracking - https://www.monsterinsights.com/ -->
<script type="text/javascript" data-cfasync="false">
    (window.gaDevIds=window.gaDevIds||[]).push("dZGIzZG");
	var mi_version         = '7.15.1';
	var mi_track_user      = true;
	var mi_no_track_reason = '';
	
	var disableStr = 'ga-disable-UA-2000254-3';

	/* Function to detect opted out users */
	function __gaTrackerIsOptedOut() {
		return document.cookie.indexOf(disableStr + '=true') > -1;
	}

	/* Disable tracking if the opt-out cookie exists. */
	if ( __gaTrackerIsOptedOut() ) {
		window[disableStr] = true;
	}

	/* Opt-out function */
	function __gaTrackerOptout() {
	  document.cookie = disableStr + '=true; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/';
	  window[disableStr] = true;
	}

	if ( 'undefined' === typeof gaOptout ) {
		function gaOptout() {
			__gaTrackerOptout();
		}
	}
	
	if ( mi_track_user ) {
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');

		__gaTracker('create', 'UA-2000254-3', 'auto');
		__gaTracker('set', 'forceSSL', true);
		__gaTracker('send','pageview');
	} else {
		console.log( "" );
		(function() {
			/* https://developers.google.com/analytics/devguides/collection/analyticsjs/ */
			var noopfn = function() {
				return null;
			};
			var noopnullfn = function() {
				return null;
			};
			var Tracker = function() {
				return null;
			};
			var p = Tracker.prototype;
			p.get = noopfn;
			p.set = noopfn;
			p.send = noopfn;
			var __gaTracker = function() {
				var len = arguments.length;
				if ( len === 0 ) {
					return;
				}
				var f = arguments[len-1];
				if ( typeof f !== 'object' || f === null || typeof f.hitCallback !== 'function' ) {
					console.log( 'Not running function __gaTracker(' + arguments[0] + " ....) because you are not being tracked. " + mi_no_track_reason );
					return;
				}
				try {
					f.hitCallback();
				} catch (ex) {

				}
			};
			__gaTracker.create = function() {
				return new Tracker();
			};
			__gaTracker.getByName = noopnullfn;
			__gaTracker.getAll = function() {
				return [];
			};
			__gaTracker.remove = noopfn;
			window['__gaTracker'] = __gaTracker;
					})();
		}
</script>
<!-- / Google Analytics by MonsterInsights -->
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/www.michelepasin.org\/blog\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.2.11"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])?!1:!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([55357,56424,55356,57342,8205,55358,56605,8205,55357,56424,55356,57340],[55357,56424,55356,57342,8203,55358,56605,8203,55357,56424,55356,57340])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='wp-block-library-css'  href='../../../../wp-includes/css/dist/block-library/style.min.css%3Fver=5.2.11.css' type='text/css' media='all' />
<style id='wp-block-library-inline-css' type='text/css'>
.has-text-align-justify{text-align:justify;}
</style>
<link rel='stylesheet' id='ctf_styles-css'  href='../../../../wp-content/plugins/custom-twitter-feeds/css/ctf-styles.min.css%3Fver=1.7.css' type='text/css' media='all' />
<link rel='stylesheet' id='monsterinsights-popular-posts-style-css'  href='../../../../wp-content/plugins/google-analytics-for-wordpress/assets/css/frontend.min.css%3Fver=7.15.1.css' type='text/css' media='all' />
<link rel='stylesheet' id='wordpress-popular-posts-css-css'  href='../../../../wp-content/plugins/wordpress-popular-posts/assets/css/wpp.css%3Fver=5.2.4.css' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack_css-css'  href='../../../../wp-content/plugins/jetpack/css/jetpack.css%3Fver=8.1.2.css' type='text/css' media='all' />
<script type='text/javascript'>
/* <![CDATA[ */
var monsterinsights_frontend = {"js_events_tracking":"true","download_extensions":"doc,pdf,ppt,zip,xls,docx,pptx,xlsx","inbound_paths":"[]","home_url":"http:\/\/www.michelepasin.org\/blog","hash_tracking":"false"};
/* ]]> */
</script>
<script type='text/javascript' src='../../../../wp-content/plugins/google-analytics-for-wordpress/assets/js/frontend.min.js%3Fver=7.15.1'></script>
<script type='application/json' id="wpp-json">
{"sampling_active":0,"sampling_rate":100,"ajax_url":"http:\/\/www.michelepasin.org\/blog\/wp-json\/wordpress-popular-posts\/v1\/popular-posts","ID":1815,"token":"10a27ddbef","lang":0,"debug":0}
</script>
<script type='text/javascript' src='../../../../wp-content/plugins/wordpress-popular-posts/assets/js/wpp.min.js%3Fver=5.2.4'></script>
<script type='text/javascript' src='../../../../wp-includes/js/jquery/jquery.js%3Fver=1.12.4-wp'></script>
<script type='text/javascript' src='../../../../wp-includes/js/jquery/jquery-migrate.min.js%3Fver=1.4.1'></script>
<link rel='https://api.w.org/' href='../../../../wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../../xmlrpc.php%3Frsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../../wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Setting up the new &#8216;staticfiles&#8217; app on Django 1.3' href='../../../01/24/setting-up-the-new-staticfiles-app-on-django-1-3/index.html' />
<link rel='next' title='The Future of the Book: reading and annotating online' href='../../../03/01/the-future-of-the-book/index.html' />
<meta name="generator" content="WordPress 5.2.11" />
<link rel="canonical" href="index.html" />
<link rel='shortlink' href='https://wp.me/pW0Ls-th' />
<link rel="alternate" type="application/json+oembed" href="../../../../wp-json/oembed/1.0/embed%3Furl=http:%252F%252Fwww.michelepasin.org%252Fblog%252F2012%252F02%252F08%252Fhtml5-canvas-cookbook%252F" />
<link rel="alternate" type="text/xml+oembed" href="../../../../wp-json/oembed/1.0/embed%3Furl=http:%252F%252Fwww.michelepasin.org%252Fblog%252F2012%252F02%252F08%252Fhtml5-canvas-cookbook%252F&amp;format=xml" />
<style data-context="foundation-flickity-css">/*! Flickity v2.0.2
http://flickity.metafizzy.co
---------------------------------------------- */.flickity-enabled{position:relative}.flickity-enabled:focus{outline:0}.flickity-viewport{overflow:hidden;position:relative;height:100%}.flickity-slider{position:absolute;width:100%;height:100%}.flickity-enabled.is-draggable{-webkit-tap-highlight-color:transparent;tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.flickity-enabled.is-draggable .flickity-viewport{cursor:move;cursor:-webkit-grab;cursor:grab}.flickity-enabled.is-draggable .flickity-viewport.is-pointer-down{cursor:-webkit-grabbing;cursor:grabbing}.flickity-prev-next-button{position:absolute;top:50%;width:44px;height:44px;border:none;border-radius:50%;background:#fff;background:hsla(0,0%,100%,.75);cursor:pointer;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.flickity-prev-next-button:hover{background:#fff}.flickity-prev-next-button:focus{outline:0;box-shadow:0 0 0 5px #09f}.flickity-prev-next-button:active{opacity:.6}.flickity-prev-next-button.previous{left:10px}.flickity-prev-next-button.next{right:10px}.flickity-rtl .flickity-prev-next-button.previous{left:auto;right:10px}.flickity-rtl .flickity-prev-next-button.next{right:auto;left:10px}.flickity-prev-next-button:disabled{opacity:.3;cursor:auto}.flickity-prev-next-button svg{position:absolute;left:20%;top:20%;width:60%;height:60%}.flickity-prev-next-button .arrow{fill:#333}.flickity-page-dots{position:absolute;width:100%;bottom:-25px;padding:0;margin:0;list-style:none;text-align:center;line-height:1}.flickity-rtl .flickity-page-dots{direction:rtl}.flickity-page-dots .dot{display:inline-block;width:10px;height:10px;margin:0 8px;background:#333;border-radius:50%;opacity:.25;cursor:pointer}.flickity-page-dots .dot.is-selected{opacity:1}</style><style data-context="foundation-slideout-css">.slideout-menu{position:fixed;left:0;top:0;bottom:0;right:auto;z-index:0;width:256px;overflow-y:auto;-webkit-overflow-scrolling:touch;display:none}.slideout-menu.pushit-right{left:auto;right:0}.slideout-panel{position:relative;z-index:1;will-change:transform}.slideout-open,.slideout-open .slideout-panel,.slideout-open body{overflow:hidden}.slideout-open .slideout-menu{display:block}.pushit{display:none}</style>
<link rel='dns-prefetch' href='http://v0.wordpress.com/'/>
<style type='text/css'>img#wpstats{display:none}</style>
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="HTML5 Canvas Cookbook" />
<meta property="og:url" content="http://www.michelepasin.org/blog/2012/02/08/html5-canvas-cookbook/" />
<meta property="og:description" content="HTML5 Canvas Cookbook is a new publication from Packt publishing that discusses in details the new drawing functionalities the html5 canvas element makes available; in the last weeks I&#8217;ve bee…" />
<meta property="article:published_time" content="2012-02-08T17:34:12+00:00" />
<meta property="article:modified_time" content="2012-02-08T17:34:12+00:00" />
<meta property="og:site_name" content="Parerga und Paralipomena" />
<meta property="og:image" content="https://s0.wp.com/i/blank.jpg" />
<meta property="og:locale" content="en_US" />
<meta name="twitter:text:title" content="HTML5 Canvas Cookbook" />
<meta name="twitter:card" content="summary" />

<!-- End Jetpack Open Graph Tags -->
<style>.ios7.web-app-mode.has-fixed header{ background-color: rgba(3,122,221,.88);}</style>			<style type="text/css" id="wp-custom-css">
				.entry ul li {
	list-style: disc;
}

.entry ol li {
	list-style: lower-roman;
}

			</style>
			</head>
	<body>
		<div class="page">
			<div id="header">
				<a href="../../../../index.html">Parerga und Paralipomena</a> / <span class="description">At the core of all well-founded belief lies belief that is unfounded &#8211; Wittgenstein</span><span style="float:right;"><a href="../../../../feed/index.html" title="">
						<img src="../../../../wp-content/themes/ub_modio/images/rss_black.png" alt="Parerga und Paralipomena Feed" width="14" height="14"/>
					</a>
				</span>
			</div><!-- end header --><div id="content" class="widecolumn">

		<div class="post" id="post-1815">
		<h2><a href="index.html" rel="bookmark" title="Permanent Link: HTML5 Canvas Cookbook">HTML5 Canvas Cookbook</a>
		</h2>
		<div class="entry">
				<p><a href="http://www.packtpub.com/html5-canvas-cookbook-recipes-to-revolutionize-web-experience/book">HTML5 Canvas Cookbook</a> is a new publication from Packt publishing that discusses in details the new drawing functionalities the html5 canvas element makes available; in the last weeks I&#8217;ve been looking at this book in more details and since it&#8217;s been a quite useful learning experience I wanted to mention it here too.</p>
<p>The book (which is <a href="http://www.packtpub.com/html5-canvas-cookbook-recipes-to-revolutionize-web-experience/book">available online here</a> )is simple and well organized; it spends quite a bit of time on both introductory topics and more advanced ones, so it&#8217;ll probably fit both the beginner and the more experienced programmer. </p>
<p>Here&#8217;s a list of the chapters available: </p>
<div style="height: 400px; overflow: auto;">
<pre>
CHAPTER 1: GETTING STARTED WITH PATHS AND TEXT
Introduction
Drawing a line
Drawing an arc
Drawing a Quadratic curve
Drawing a Bezier curve
Drawing a zigzag
Drawing a spiral
Working with text
Drawing 3D text with shadows
Unlocking the power of fractals: Drawing a haunted tree

CHAPTER 2: SHAPE DRAWING AND COMPOSITES
Introduction
Drawing a rectangle
Drawing a circle
Working with custom shapes and fill styles
Fun with Bezier curves: drawing a cloud
Drawing transparent shapes
Working with the context state stack to save and restore styles
Working with composite operations
Creating patterns with loops: drawing a gear
Randomizing shape properties: drawing a field of flowers
Creating custom shape functions: playing card suits
Putting it all together: drawing a jet

CHAPTER 3: WORKING WITH IMAGES AND VIDEOS
Introduction
Drawing an image
Cropping an image
Copying and pasting sections of the canvas
Working with video
Getting image data
Introduction to pixel manipulation: inverting image colors
Inverting video colors
Converting image colors to grayscale
Converting a canvas drawing into a data URL
Saving a canvas drawing as an image
Loading the canvas with a data URL
Creating a pixelated image focus

CHAPTER 4: MASTERING TRANSFORMATIONS
Introduction
Translating the canvas context
Rotating the canvas context
Scaling the canvas context
Creating a mirror transform
Creating a custom transform
Shearing the canvas context
Handling multiple transforms with the state stack
Transforming a circle into an oval
Rotating an image
Drawing a simple logo and randomizing its position, rotation, and scale

CHAPTER 5: BRINGING THE CANVAS TO LIFE WITH ANIMATION
Introduction
Creating an Animation class
Creating a linear motion
Creating acceleration
Creating oscillation
Oscillating a bubble
Swinging a pendulum
Animating mechanical gears
Animating a clock
Simulating particle physics
Creating microscopic life forms
Stressing the canvas and displaying the FPS

CHAPTER 6: INTERACTING WITH THE CANVAS: ATTACHING EVENT LISTENERS TO SHAPES AND REGIONS 
Introduction
Creating an Events Class
Working With Canvas Mouse Coordinates
Attaching Mouse Event Listeners to Regions
Attaching Touch Event Listeners to Regions on a Mobile Device
Attaching Event Listeners to Images
Dragging-And-Dropping Shapes
Dragging-And-Dropping Images
Creating an Image Magnifier
Creating a Drawing Application

CHAPTER 7: CREATING GRAPHS AND CHARTS
Introduction
Creating a pie chart
Creating a bar chart
Graphing equations
Plotting data points with a line chart

CHAPTER 8: SAVING THE WORLD WITH GAME DEVELOPMENT
Introduction
Creating sprite sheets for the heroes and enemies
Creating level images and boundary maps
Creating an Actor class for the hero and enemies
Creating a Level class
Creating a Health Bar class
Creating a Controller class
Creating a Model class
Creating a View class
Setting up the HTML document and starting the game

CHAPTER 9: INTRODUCING WEBGL
Introduction
Creating a WebGL wrapper to simplify the WebGL API
Creating a triangular plane
Rotating a triangular plane in 3D space
Creating a rotating cube
Adding textures and lighting
Creating a 3D world that you can explore

</pre>
</div>
<p>The last chapters about animations and game developments are probably the most interesting ones, especially they all include detailed walk-through of the techniques discussed. Here&#8217;s for example an example from Chapter 5, &#8216;Oscillating a bubble&#8217;: </p>
<p><canvas id="myCanvas" width="400" height="250" style="border:1px solid black;"><br />
</canvas></p>
<p>[inline]</p>
<p>[script type=&#8221;text/javascript&#8221;]</p>
<p>var Animation = function(canvasId){<br />
    this.canvas = document.getElementById(canvasId);<br />
    this.context = this.canvas.getContext(&#8220;2d&#8221;);<br />
    this.t = 0;<br />
    this.timeInterval = 0;<br />
    this.startTime = 0;<br />
    this.lastTime = 0;<br />
    this.frame = 0;<br />
    this.animating = false;</p>
<p>    // provided by Paul Irish<br />
    window.requestAnimFrame = (function(callback){<br />
        return window.requestAnimationFrame ||<br />
        window.webkitRequestAnimationFrame ||<br />
        window.mozRequestAnimationFrame ||<br />
        window.oRequestAnimationFrame ||<br />
        window.msRequestAnimationFrame ||<br />
        function(callback){<br />
            window.setTimeout(callback, 1000 / 60);<br />
        };<br />
    })();<br />
};</p>
<p>Animation.prototype.getContext = function(){<br />
    return this.context;<br />
};</p>
<p>Animation.prototype.getCanvas = function(){<br />
    return this.canvas;<br />
};</p>
<p>Animation.prototype.clear = function(){<br />
    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);<br />
};</p>
<p>Animation.prototype.setDrawStage = function(func){<br />
    this.drawStage = func;<br />
};</p>
<p>Animation.prototype.isAnimating = function(){<br />
    return this.animating;<br />
};</p>
<p>Animation.prototype.getFrame = function(){<br />
    return this.frame;<br />
};</p>
<p>Animation.prototype.start = function(){<br />
    this.animating = true;<br />
    var date = new Date();<br />
    this.startTime = date.getTime();<br />
    this.lastTime = this.startTime;</p>
<p>    if (this.drawStage !== undefined) {<br />
        this.drawStage();<br />
    }</p>
<p>    this.animationLoop();<br />
};</p>
<p>Animation.prototype.stop = function(){<br />
    this.animating = false;<br />
};<br />
Animation.prototype.getTimeInterval = function(){<br />
    return this.timeInterval;<br />
};</p>
<p>Animation.prototype.getTime = function(){<br />
    return this.t;<br />
};</p>
<p>Animation.prototype.getFps = function(){<br />
    return this.timeInterval > 0 ? 1000 / this.timeInterval : 0;<br />
};</p>
<p>Animation.prototype.animationLoop = function(){<br />
    var that = this;</p>
<p>    this.frame++;<br />
    var date = new Date();<br />
    var thisTime = date.getTime();<br />
    this.timeInterval = thisTime &#8211; this.lastTime;<br />
    this.t += this.timeInterval;<br />
    this.lastTime = thisTime;</p>
<p>    if (this.drawStage !== undefined) {<br />
        this.drawStage();<br />
    }</p>
<p>    if (this.animating) {<br />
        requestAnimFrame(function(){<br />
            that.animationLoop();<br />
        });<br />
    }<br />
};</p>
<p>window.onload = function(){<br />
    // instantiate new animation object<br />
    var anim = new Animation(&#8220;myCanvas&#8221;);<br />
    var context = anim.getContext();<br />
    var canvas = anim.getCanvas();</p>
<p>    anim.setDrawStage(function(){<br />
        // update<br />
        var widthScale = Math.sin(this.getTime() / 200) * 0.1 + 0.9;<br />
        var heightScale = -1 * Math.sin(this.getTime() / 200) * 0.1 + 0.9;</p>
<p>        // clear<br />
        this.clear();</p>
<p>        //draw<br />
        context.beginPath();<br />
        context.save();<br />
        context.translate(canvas.width / 2, canvas.height / 2);<br />
        context.scale(widthScale, heightScale);<br />
        context.arc(0, 0, 65, 0, 2 * Math.PI, false);<br />
        context.restore();<br />
        context.fillStyle = &#8220;#8ED6FF&#8221;;<br />
        context.fill();<br />
        context.lineWidth = 2;<br />
        context.strokeStyle = &#8220;#555&#8221;;<br />
        context.stroke();</p>
<p>        context.beginPath();<br />
        context.save();<br />
        context.translate(canvas.width / 2, canvas.height / 2);<br />
        context.scale(widthScale, heightScale);<br />
        context.arc(-30, -30, 15, 0, 2 * Math.PI, false);<br />
        context.restore();<br />
        context.fillStyle = &#8220;white&#8221;;<br />
        context.fill();<br />
    });</p>
<p>    anim.start();<br />
};</p>
<p>[/script]</p>
<p>[/inline]</p>
<p>&nbsp;</p>
<p>In a nutshell, this is what is going on (note that the &#8216;animation&#8217; library is discussed in a previous chapter of the book): </p>
<p>&nbsp;</p>
<pre style='color:#000020;background:#f6f8ff; overflow: auto;'><span style='color:#308080; '>&lt;</span>script src<span style='color:#308080; '>=</span><span style='color:#800000; '>"</span><span style='color:#1060b6; '>animation.js</span><span style='color:#800000; '>"</span><span style='color:#308080; '>></span><span style='color:#308080; '>&lt;</span><span style='color:#308080; '>/</span>script<span style='color:#308080; '>></span>
<span style='color:#308080; '>&lt;</span>script<span style='color:#308080; '>></span>
    window<span style='color:#308080; '>.</span>onload <span style='color:#308080; '>=</span> <span style='color:#200080; font-weight:bold; '>function</span><span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>{</span>
        <span style='color:#595979; '>// instantiate new animation object</span>
        <span style='color:#200080; font-weight:bold; '>var</span> anim <span style='color:#308080; '>=</span> <span style='color:#200080; font-weight:bold; '>new</span> Animation<span style='color:#308080; '>(</span><span style='color:#800000; '>"</span><span style='color:#1060b6; '>myCanvas</span><span style='color:#800000; '>"</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
        <span style='color:#200080; font-weight:bold; '>var</span> context <span style='color:#308080; '>=</span> anim<span style='color:#308080; '>.</span>getContext<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
        <span style='color:#200080; font-weight:bold; '>var</span> canvas <span style='color:#308080; '>=</span> anim<span style='color:#308080; '>.</span>getCanvas<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
        
        anim<span style='color:#308080; '>.</span>setDrawStage<span style='color:#308080; '>(</span><span style='color:#200080; font-weight:bold; '>function</span><span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>{</span>
            <span style='color:#595979; '>// update</span>
            <span style='color:#200080; font-weight:bold; '>var</span> widthScale <span style='color:#308080; '>=</span> <span style='color:#007d45; '>Math</span><span style='color:#308080; '>.</span><span style='color:#200080; font-weight:bold; '>sin</span><span style='color:#308080; '>(</span><span style='color:#200080; font-weight:bold; '>this</span><span style='color:#308080; '>.</span><span style='color:#200080; font-weight:bold; '>getTime</span><span style='color:#308080; '>(</span><span style='color:#308080; '>)</span> <span style='color:#308080; '>/</span> <span style='color:#008c00; '>200</span><span style='color:#308080; '>)</span> <span style='color:#308080; '>*</span> <span style='color:#008000; '>0.1</span> <span style='color:#308080; '>+</span> <span style='color:#008000; '>0.9</span><span style='color:#406080; '>;</span>
            <span style='color:#200080; font-weight:bold; '>var</span> heightScale <span style='color:#308080; '>=</span> <span style='color:#308080; '>-</span><span style='color:#008c00; '>1</span> <span style='color:#308080; '>*</span> <span style='color:#007d45; '>Math</span><span style='color:#308080; '>.</span><span style='color:#200080; font-weight:bold; '>sin</span><span style='color:#308080; '>(</span><span style='color:#200080; font-weight:bold; '>this</span><span style='color:#308080; '>.</span><span style='color:#200080; font-weight:bold; '>getTime</span><span style='color:#308080; '>(</span><span style='color:#308080; '>)</span> <span style='color:#308080; '>/</span> <span style='color:#008c00; '>200</span><span style='color:#308080; '>)</span> <span style='color:#308080; '>*</span> <span style='color:#008000; '>0.1</span> <span style='color:#308080; '>+</span> <span style='color:#008000; '>0.9</span><span style='color:#406080; '>;</span>

            <span style='color:#595979; '>// clear</span>
            <span style='color:#200080; font-weight:bold; '>this</span><span style='color:#308080; '>.</span>clear<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            
            <span style='color:#595979; '>//draw</span>
            context<span style='color:#308080; '>.</span>beginPath<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>save<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>translate<span style='color:#308080; '>(</span>canvas<span style='color:#308080; '>.</span>width <span style='color:#308080; '>/</span> <span style='color:#008c00; '>2</span><span style='color:#308080; '>,</span> canvas<span style='color:#308080; '>.</span>height <span style='color:#308080; '>/</span> <span style='color:#008c00; '>2</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>scale<span style='color:#308080; '>(</span>widthScale<span style='color:#308080; '>,</span> heightScale<span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>arc<span style='color:#308080; '>(</span><span style='color:#008c00; '>0</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>0</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>65</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>0</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>2</span> <span style='color:#308080; '>*</span> <span style='color:#007d45; '>Math</span><span style='color:#308080; '>.</span>PI<span style='color:#308080; '>,</span> <span style='color:#0f4d75; '>false</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>restore<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>fillStyle <span style='color:#308080; '>=</span> <span style='color:#800000; '>"</span><span style='color:#1060b6; '>#8ED6FF</span><span style='color:#800000; '>"</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>fill<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>lineWidth <span style='color:#308080; '>=</span> <span style='color:#008c00; '>2</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>strokeStyle <span style='color:#308080; '>=</span> <span style='color:#800000; '>"</span><span style='color:#1060b6; '>#555</span><span style='color:#800000; '>"</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>stroke<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            
            context<span style='color:#308080; '>.</span>beginPath<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>save<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>translate<span style='color:#308080; '>(</span>canvas<span style='color:#308080; '>.</span>width <span style='color:#308080; '>/</span> <span style='color:#008c00; '>2</span><span style='color:#308080; '>,</span> canvas<span style='color:#308080; '>.</span>height <span style='color:#308080; '>/</span> <span style='color:#008c00; '>2</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>scale<span style='color:#308080; '>(</span>widthScale<span style='color:#308080; '>,</span> heightScale<span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>arc<span style='color:#308080; '>(</span><span style='color:#308080; '>-</span><span style='color:#008c00; '>30</span><span style='color:#308080; '>,</span> <span style='color:#308080; '>-</span><span style='color:#008c00; '>30</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>15</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>0</span><span style='color:#308080; '>,</span> <span style='color:#008c00; '>2</span> <span style='color:#308080; '>*</span> <span style='color:#007d45; '>Math</span><span style='color:#308080; '>.</span>PI<span style='color:#308080; '>,</span> <span style='color:#0f4d75; '>false</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>restore<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>fillStyle <span style='color:#308080; '>=</span> <span style='color:#800000; '>"</span><span style='color:#1060b6; '>white</span><span style='color:#800000; '>"</span><span style='color:#406080; '>;</span>
            context<span style='color:#308080; '>.</span>fill<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
        <span style='color:#406080; '>}</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
        
        anim<span style='color:#308080; '>.</span>start<span style='color:#308080; '>(</span><span style='color:#308080; '>)</span><span style='color:#406080; '>;</span>
    <span style='color:#406080; '>}</span><span style='color:#406080; '>;</span>
<span style='color:#308080; '>&lt;</span><span style='color:#308080; '>/</span>script<span style='color:#308080; '>></span>
</pre>
<p>&nbsp;</p>
<p>All in all, a book definitely worth reading!</p>
<p>&nbsp;</p>
				
			<!-- <script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script> -->
			<!-- AddToAny BEGIN -->
			<a class="a2a_dd" href="http://www.addtoany.com/share_save"><img src="http://static.addtoany.com/buttons/share_save_256_24.png" width="256" height="24" border="0" alt="Share/Bookmark"/></a>
			<script type="text/javascript" src="http://static.addtoany.com/menu/page.js"></script>
			<!-- AddToAny END -->
			
			
						</div><!-- end entry --><br/><br/>
	</div><!-- end post -->
	<ul class="post">
		<li><b>META</b> / ABOUT THIS POST</li>
		<li>This entry was posted
									on Wednesday, February 8th, 2012 at 5:34 pm			and is filed under <a href="../../../../category/techlife/index.html" rel="category tag">TechLife</a>. Tags: <a href="../../../../tag/book/index.html" rel="tag">book</a>, <a href="../../../../tag/canvas/index.html" rel="tag">canvas</a>, <a href="../../../../tag/html5/index.html" rel="tag">html5</a>.
			You can follow any responses to this entry through the <a href="feed/index.html">RSS 2.0</a> feed.

									Both comments and pings are currently closed.

								</li>
	</ul><br/><br/>
	<ul class="post">
		<li><b>PAGES</b> / FORWARD OR BACK?</li>
		<li>Previous: <a href="../../../01/24/setting-up-the-new-staticfiles-app-on-django-1-3/index.html" rel="prev">Setting up the new &#8216;staticfiles&#8217; app on Django 1.3</a></li>
		<li>Next: <a href="../../../03/01/the-future-of-the-book/index.html" rel="next">The Future of the Book: reading and annotating online</a></li>
	</ul><br/><br/>
					
							
			
	
<!-- You can start editing here. -->


			<!-- If comments are closed. -->
<p class="nocomments">Comments are closed.</p>

	


	</div><!-- end content -->	
<div id="sidebar">


	<p class="menu"><B>INSIDE&nbsp;&nbsp;&nbsp;&nbsp;&larr;</b></p><br/>
		<p><a href="../../../../index.html">Parerga und Paralipomena</a></p>
		<li id="pages-2" class="widget widget_pages"><h2 class="widgettitle">Pages</h2>
		<ul>
			<li class="page_item page-item-532"><a href="../../../../about-2/index.html">About Me</a></li>
<li class="page_item page-item-3355"><a href="../../../../latest-from-twitter/index.html">Latest from Twitter</a></li>
		</ul>
			</li>
<li id="categories-2" class="widget widget_categories"><h2 class="widgettitle">Categories</h2>
		<ul>
				<li class="cat-item cat-item-408"><a href="../../../../category/computermusic/index.html">Computer Music</a>
</li>
	<li class="cat-item cat-item-3"><a href="../../../../category/culturalinformatics/index.html">Cultural Informatics</a>
</li>
	<li class="cat-item cat-item-455"><a href="../../../../category/data-science/index.html">Data science</a>
</li>
	<li class="cat-item cat-item-4"><a href="../../../../category/informationarchitecture/index.html">Information Architecture</a>
</li>
	<li class="cat-item cat-item-5"><a href="../../../../category/justblogging/index.html">Just Blogging</a>
</li>
	<li class="cat-item cat-item-6"><a href="../../../../category/semantic-web/index.html">Semantic Web</a>
</li>
	<li class="cat-item cat-item-7"><a href="../../../../category/techlife/index.html">TechLife</a>
</li>
	<li class="cat-item cat-item-8"><a href="../../../../category/tips-and-tricks/index.html">Tips and Tricks</a>
</li>
		</ul>
			</li>
 
		
		<!-- mikele: the stuff above doesn't get activated so I put it here -->
<br/><br/>
		<ul style="text-align:right;">

			<p><b>FIND</b> / SEARCH</p>
			<form method="get" id="search_form" action="../../../../index.html">
				<input type="text" class="search_input" value="Type and hit enter..." name="s" id="s" onfocus="if (this.value == 'Type and hit enter...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Type and hit enter...';}" />
				<input type="hidden" id="searchsubmit" value="Search" />
			</form>
		</ul><br/>


<!-- 	
		<!-- mikele: adsense 
		<br/>
                 <ul style="text-align:right;">
		<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

		<ins class="adsbygoogle"
		     style="display:block"
		     data-ad-client="ca-pub-8108687655438913"
		     data-ad-slot="2230044782"
		     data-ad-format="auto"></ins>
		<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
		</script>
                </ul><br/> 
-->

		
		
		
	</div><!-- end sidebar --><div class="footer">
	<p><b>FOOTER</b> / LEST WE FORGET<br/>
<!-- If you'd like to support WordPress, having the "powered by" link someone on your blog is the best way, it's our only promotion or advertising. -->

<!-- Change this theme as you wish, but PLEASE keep a visible link to http://www.upstartblogger.com/ somewhere on every page of your blog (for example, in the sidebar or footer). You aren't going to delete the WordPress link, are you? Please don't delete mine. Thanks! -->
		Copyright &copy; 2004-2007 by Parerga und Paralipomena, unless otherwise noted. All rights reserved. Powered by <a href="http://wordpress.org/" title="WordPress">WordPress</a>. Original Modio theme by <a href="http://www.upstartblogger.com/" title="Upstart Blogger">Upstart Blogger</a>, modified by Michele Pasin.






</p>
	<!-- 40 queries. 0.299 seconds. -->





</div><!-- end footer -->

<!-- Start of Flickr Badge -->
<style type="text/css">
#flickr_badge_source_txt {padding:0; font: 11px Arial, Helvetica, Sans serif; color:#666666;}
#flickr_badge_icon {display:block !important; margin:0 !important; border: 1px solid rgb(0, 0, 0) !important;}
#flickr_icon_td {padding:0 5px 0 0 !important;}
.flickr_badge_image {text-align:center !important;}
.flickr_badge_image img {border: 1px solid black !important;}
#flickr_www {display:block; padding:0 10px 0 10px !important; font: 11px Arial, Helvetica, Sans serif !important; color:#3993ff !important;}
#flickr_badge_uber_wrapper table {margin-left:265px; margin-top:50px; position:absolute;}
#flickr_badge_uber_wrapper a:hover,
#flickr_badge_uber_wrapper a:link,
#flickr_badge_uber_wrapper a:active,
#flickr_badge_uber_wrapper a:visited {text-decoration:none !important; background:inherit !important;color:#3993ff;}
#flickr_badge_wrapper {background-color:#ffffff;border: solid 1px #000000}
#flickr_badge_source {padding:0 !important; font: 11px Arial, Helvetica, Sans serif !important; color:#666666 !important;}
</style>
<table id="flickr_badge_uber_wrapper" cellpadding="0" cellspacing="10" border="0"><tr><td><table cellpadding="0" cellspacing="10" border="0" id="flickr_badge_wrapper">
<tr>
<script type="text/javascript" src="http://www.flickr.com/badge_code_v2.gne?count=5&display=random&size=s&layout=h&source=user&user=76186999%40N00"></script>
</tr>
</table>
</td></tr></table>
<!-- End of Flickr Badge -->


</div><!-- end page -->
<!-- Powered by WPtouch: 4.3.39 -->	<div style="display:none">
	</div>
<script type='text/javascript' src='https://secure.gravatar.com/js/gprofiles.js?ver=2021Augaa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='../../../../wp-content/plugins/jetpack/modules/wpgroho.js%3Fver=5.2.11'></script>
<script type='text/javascript' src='../../../../wp-includes/js/wp-embed.min.js%3Fver=5.2.11'></script>
<script type='text/javascript' src='https://stats.wp.com/e-202134.js' async='async' defer='defer'></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:8.1.2',blog:'13825966',post:'1815',tz:'0',srv:'www.michelepasin.org'} ]);
	_stq.push([ 'clickTrackerInit', '13825966', '1815' ]);
</script>
</body>
</html>