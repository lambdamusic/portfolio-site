<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	
	xmlns:georss="http://www.georss.org/georss"
	xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#"
	>

<channel>
	<title>impromptu &#8211; Parerga und Paralipomena</title>
	<atom:link href="http://www.michelepasin.org/blog/tag/impromptu/feed/" rel="self" type="application/rss+xml" />
	<link>http://www.michelepasin.org/blog</link>
	<description>At the core of all well-founded belief lies belief that is unfounded - Wittgenstein</description>
	<lastBuildDate>Wed, 10 Feb 2021 18:13:18 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.2.11</generator>
<site xmlns="com-wordpress:feed-additions:1">13825966</site>	<item>
		<title>A new livecoding project: &#8216;The Musical Code&#8217;</title>
		<link>http://www.michelepasin.org/blog/2020/11/23/a-new-livecoding-project-the-musical-code/</link>
				<pubDate>Mon, 23 Nov 2020 05:58:29 +0000</pubDate>
		<dc:creator><![CDATA[mikele]]></dc:creator>
				<category><![CDATA[Computer Music]]></category>
		<category><![CDATA[algorithmiccomposition]]></category>
		<category><![CDATA[extempore]]></category>
		<category><![CDATA[github]]></category>
		<category><![CDATA[impromptu]]></category>

		<guid isPermaLink="false">http://www.michelepasin.org/blog/?p=3446</guid>
				<description><![CDATA[I&#8217;ve started a new livecoding project on Github called The Musical Code, where I&#8217;ll be adding experimental musical code/algorithms created the amazing Extempore programming language (as well as it precursor Impromptu). I have accumulated so much musical-code ideas so I&#8217;ve finally resolved to clean it up, reorganise it and publish it somewhere. Github seemed the best option, these [&#8230;]]]></description>
								<content:encoded><![CDATA[
<p>I&#8217;ve started a new livecoding project on Github called <a href="https://github.com/lambdamusic/The-Musical-Code">The Musical Code</a>, where I&#8217;ll be adding experimental musical code/algorithms created the amazing <a href="https://extemporelang.github.io/">Extempore</a> programming language (as well as it precursor <a href="http://impromptu.moso.com.au/">Impromptu</a>).</p>



<p>I have accumulated so much musical-code ideas so I&#8217;ve finally resolved to clean it up, reorganise it and publish it somewhere. Github seemed the best option, these days:</p>



<div class="wp-block-image"><figure class="aligncenter"><a href="https://github.com/lambdamusic/The-Musical-Code" target="_blank" rel="noreferrer noopener"><img src="http://www.michelepasin.org/blog/wp-content/uploads/2021/02/TheMusicalCodeGithub-1024x757.jpg" alt="" class="wp-image-3447" srcset="http://www.michelepasin.org/blog/wp-content/uploads/2021/02/TheMusicalCodeGithub-1024x757.jpg 1024w, http://www.michelepasin.org/blog/wp-content/uploads/2021/02/TheMusicalCodeGithub-300x222.jpg 300w, http://www.michelepasin.org/blog/wp-content/uploads/2021/02/TheMusicalCodeGithub-768x568.jpg 768w, http://www.michelepasin.org/blog/wp-content/uploads/2021/02/TheMusicalCodeGithub.jpg 1239w" sizes="(max-width: 1024px) 100vw, 1024px" /></a></figure></div>



<p>Turns out that just the code by itself won&#8217;t do it. Especially considering that the environments I use to &#8216;run it&#8217; (and to make sounds) can rapidly disappear (become obsolete, or get out of fashion!). </p>



<p>Hence there&#8217;s a<a href="https://www.youtube.com/channel/UCanqSICbxzRNEZGMlu8qfyw"> YouTube channel </a>as well, where one can find a screencast recording of each of the &#8216;musical codes&#8217;. </p>



<div class="wp-block-image"><figure class="aligncenter"><a href="https://www.youtube.com/channel/UCanqSICbxzRNEZGMlu8qfyw" target="_blank" rel="noreferrer noopener"><img src="http://www.michelepasin.org/blog/wp-content/uploads/2021/02/YouTubeMusicalCode-1024x679.jpg" alt="" class="wp-image-3448" srcset="http://www.michelepasin.org/blog/wp-content/uploads/2021/02/YouTubeMusicalCode-1024x679.jpg 1024w, http://www.michelepasin.org/blog/wp-content/uploads/2021/02/YouTubeMusicalCode-300x199.jpg 300w, http://www.michelepasin.org/blog/wp-content/uploads/2021/02/YouTubeMusicalCode-768x509.jpg 768w, http://www.michelepasin.org/blog/wp-content/uploads/2021/02/YouTubeMusicalCode.jpg 1174w" sizes="(max-width: 1024px) 100vw, 1024px" /></a></figure></div>



<p>Hope someone will find something of interest in there. Comments and feedback totally welcome!</p>
]]></content:encoded>
									<post-id xmlns="com-wordpress:feed-additions:1">3446</post-id>	</item>
		<item>
		<title>Impromptu language documentation back online!</title>
		<link>http://www.michelepasin.org/blog/2015/05/06/impromptu-language-documentation-back-online/</link>
				<pubDate>Wed, 06 May 2015 22:19:14 +0000</pubDate>
		<dc:creator><![CDATA[mikele]]></dc:creator>
				<category><![CDATA[Computer Music]]></category>
		<category><![CDATA[impromptu]]></category>

		<guid isPermaLink="false">http://www.michelepasin.org/blog/?p=2625</guid>
				<description><![CDATA[For all Impromptu aficionados: a little online application that can be used to search&#038;browse the language documentation: http://hacks.michelepasin.org/impromptu/ Impromptu is a scheme-based OSX programming language and environment for composers, sound artists, VJ’s and graphic artists with an interest in live or interactive programming. As part of its original website, Impromptu included a wiki containing documentation [&#8230;]]]></description>
								<content:encoded><![CDATA[<p>For all Impromptu aficionados: a little online application that can be used to search&#038;browse the language documentation: <a href="http://hacks.michelepasin.org/impromptu/">http://hacks.michelepasin.org/impromptu/</a></p>
<p><a href="http://impromptu.moso.com.au/">Impromptu</a> is a <a href="http://en.wikipedia.org/wiki/Scheme_%28programming_language%29">scheme</a>-based <strong>OSX programming language</strong> and environment for composers, sound artists, VJ’s and graphic artists with an interest in live or interactive programming. </p>
<p>As part of its original website, Impromptu included a <strong>wiki</strong> containing documentation and examples. Unfortunately the  wiki isn&#8217;t available online anymore, which is a real shame so the other day I&#8217;ve decided to replace it with a simple searchable index of the programming language functions. This is based on the documentation file coming with the latest Impromptu release (2.5); so, in theory, it shouldn&#8217;t be too different from the original wiki site. </p>
<p><a href="http://hacks.michelepasin.org/impromptu/744"><img src="http://www.michelepasin.org/blog/wp-content/uploads/2015/05/Screen-Shot-2015-05-06-at-23.15.36.png"  alt="Screen Shot 2015 05 06 at 23 15 36" border="0" width="600" style="width: 600px; margin-left:auto; margin-right:auto; " /></a></p>
<p>For those of you who are new to all of this, it&#8217;s worth mentioning that Impromptu is now being superseded by the <a href="http://extempore.moso.com.au/">Extempore</a> programming language. </p>
<p>Extempore is much more solid and feature rich; also, it is less dependent on the OS X platform APIs. Still, many of the original Impromptu scheme functions are still available, so this documentation could turn out to be useful too. </p>
<p>Enjoy! </p>
<p>&nbsp;</p>
]]></content:encoded>
									<post-id xmlns="com-wordpress:feed-additions:1">2625</post-id>	</item>
		<item>
		<title>Building a master volumes UI with impromptu</title>
		<link>http://www.michelepasin.org/blog/2013/09/15/building-a-master-volumes-ui-in-impromptu/</link>
				<pubDate>Sun, 15 Sep 2013 11:53:33 +0000</pubDate>
		<dc:creator><![CDATA[mikele]]></dc:creator>
				<category><![CDATA[Computer Music]]></category>
		<category><![CDATA[impromptu]]></category>
		<category><![CDATA[volume]]></category>

		<guid isPermaLink="false">http://www.michelepasin.org/blog/?p=2401</guid>
				<description><![CDATA[Based on one of the examples packaged with Impromptu, I wrote a simple function that uses the objc bridge to create a bare-bones user interface for adjusting your audio instruments master volumes. The script assumes that your audio graph includes a mixer object called *mixer*. The UI controllers are tied to that mixer&#8217;s input buses [&#8230;]]]></description>
								<content:encoded><![CDATA[<p>Based on one of the examples packaged with <a href="http://impromptu.moso.com.au/">Impromptu</a>, I wrote a simple function that uses the objc bridge to create a bare-bones user interface for adjusting your audio instruments master volumes.</p>
<p>The script assumes that your audio graph includes a mixer object called <span style="font-family:monospace;color:#000000; ">*mixer*</span>. The UI controllers are tied to that mixer&#8217;s input buses gain value.</p>
<p>The objc bridge commands are based on the <strong>silly-synth example</strong> that comes with the default impromptu package.</p>
<p><img style="display:block; margin-left:auto; margin-right:auto;" src="http://www.michelepasin.org/blog/wp-content/uploads/2013/09/volumeSLider1.png" alt="VolumeSLider" border="1px" width="600" height="498" /></p>
<p>Being able to control volumes manually rather than programmatically made a great difference for me. Both in live coding situations and while experimenting on my own, it totally speeds up the music creation process and the ability of working with multiple melodic lines.</p>
<p>The next step would be to add a midi bridge that lets you control the UI using an external device, in such a way that the two controllers are kept in sync too. Enjoy!</p>
<p><script src="https://gist.github.com/lambdamusic/6570105.js"></script></p>
<p>P.s.: this is included in the <a href="https://github.com/lambdamusic/ImpromptuLibs">https://github.com/lambdamusic/ImpromptuLibs</a></p>
<p>&nbsp;</p>
]]></content:encoded>
									<post-id xmlns="com-wordpress:feed-additions:1">2401</post-id>	</item>
		<item>
		<title>A metronome object for Impromptu</title>
		<link>http://www.michelepasin.org/blog/2013/02/20/a-metronome-object-for-impromptu/</link>
				<pubDate>Wed, 20 Feb 2013 01:34:52 +0000</pubDate>
		<dc:creator><![CDATA[mikele]]></dc:creator>
				<category><![CDATA[Computer Music]]></category>
		<category><![CDATA[impromptu]]></category>
		<category><![CDATA[livecoding]]></category>
		<category><![CDATA[metronome]]></category>

		<guid isPermaLink="false">http://www.michelepasin.org/blog/?p=2319</guid>
				<description><![CDATA[Metronome: a device used by musicians that marks time at a selected rate by giving a regular tick. If you ever felt that you missed a metronome in Impromptu, here is a little scheme object that can do that job for you. The make-metroclick function returns a closure that can be called with a specific [&#8230;]]]></description>
								<content:encoded><![CDATA[<p>Metronome: <em>a device used by musicians that marks time at a selected rate by giving a regular tick</em>. If you ever felt that you missed a metronome in <a href="http://impromptu.moso.com.au/">Impromptu</a>, here is a little scheme object that can do that job for you.</p>
<p>The <span style="font-family:monospace;color:#000000; ">make-metroclick</span> function returns a closure that can be called with a specific time in beats, so that it plays a sound for each beat and marks the downbeat using a different sound. </p>
<p>Possibly useful in order to keep track of the downbeats while you compose, or just to experiment a little with some rhythmic figures before composing a more complex drum kit section.</p>
<p>Here&#8217;s a short example of how to use it:</p>
<p><iframe src="http://player.vimeo.com/video/60047833?autoplay=1" width="500" height="533" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe></p>
<p>Make-metronome relies on the standard libraries that come with Impromptu, in particular <span style="font-family:monospace;color:#000000; ">make-metro</span>, which is <a href="http://impromptu.moso.com.au/tutorials/making_music/Beat%20%26%20Tempo.html">described in this tutorial</a>e and on this <a href="http://impromptu.moso.com.au/resources.html#faq7">video</a>. Essentially, it requires you to define a <em>metro</em> object first, e.g. <span style="font-family:monospace;color:#000000; ">(define *metro* (make-metro 120))</span>.</p>
<p>Here&#8217;s the source code:</p>
<p><script src="https://gist.github.com/lambdamusic/4991900.js"></script></p>
<p>&nbsp;</p>
]]></content:encoded>
									<post-id xmlns="com-wordpress:feed-additions:1">2319</post-id>	</item>
		<item>
		<title>The new Livecoding Error Hook in Impromptu</title>
		<link>http://www.michelepasin.org/blog/2011/05/02/the-new-livecoding-error-hook-in-impromptu/</link>
				<pubDate>Mon, 02 May 2011 12:25:58 +0000</pubDate>
		<dc:creator><![CDATA[mikele]]></dc:creator>
				<category><![CDATA[Computer Music]]></category>
		<category><![CDATA[impromptu]]></category>
		<category><![CDATA[performance]]></category>
		<category><![CDATA[tips]]></category>

		<guid isPermaLink="false">http://www.michelepasin.org/blog/?p=1099</guid>
				<description><![CDATA[Impromptu 2.5 has been out for a while now but I&#8217;ve never realised it contained this new handy feature: an &#8216;error hook&#8217;: The interpreter will now throw to an error hook providing you with greater control over exception handling. You initiate the livecoding error hook by calling (sys:livecoding-error-hook #t). Errors are then passed to the [&#8230;]]]></description>
								<content:encoded><![CDATA[<p><a href="http://impromptu.moso.com.au/">Impromptu 2.5</a> has been out for a while now but I&#8217;ve never realised it contained this new handy feature: an &#8216;error hook&#8217;: </p>
<blockquote><p>The interpreter will now throw to an error hook providing you with greater control over exception handling.  You initiate the livecoding error hook by calling (sys:livecoding-error-hook #t).  Errors are then passed to the *livecoding-error-hook* function &#8211; which you may rebind.  By default the function simply returns 1 but can be modified for more specialised behaviour.</p></blockquote>
<p>This is extremely useful, to say the least, if you are performing live and want to avoid situations in which a (stupid) typo or parenthesis error will mess up your entire gig. The error hook in many cases will prevent your looping function from crashing, giving you time to fix the error. Really neat. </p>
<p><a href="http://www.flickr.com/photos/mikele/6619819815/" title="Impromptu: livecoding error hook by MagIcReBirth, on Flickr"><img src="http://farm8.staticflickr.com/7167/6619819815_240eaf85dd_z.jpg" width="640" height="421" alt="Impromptu: livecoding error hook"></a></p>
<p>Here&#8217;s an example from the official release notes:</p>
<pre style='color:#000020;background:#f6f8ff;'><span style='color:#595979; '>;; turn on livecoding error hook</span>
<span style='color:#308080; '>(</span>sys<span style='color:#308080; '>:</span>livecoding<span style='color:#308080; '>-</span>error<span style='color:#308080; '>-</span>hook #t<span style='color:#308080; '>)</span>

<span style='color:#595979; '>;; with livecoding-error-hook on   </span>
<span style='color:#595979; '>;; this temporal recursion will continue</span>
<span style='color:#595979; '>;; to play the second note even though 'pitch</span>
<span style='color:#595979; '>;; is an unbound symbol</span>
<span style='color:#308080; '>(</span>define <span style='color:#200080; font-weight:bold; '>loop</span>
   <span style='color:#308080; '>(</span>lambda <span style='color:#308080; '>(</span>beat<span style='color:#308080; '>)</span> 
      <span style='color:#595979; '>;; symbol a is not bound but loop continues to function</span>
      <span style='color:#308080; '>(</span>play piano pitch <span style='color:#008c00; '>80</span> <span style='color:#008c00; '>1</span><span style='color:#308080; '>)</span>
      <span style='color:#308080; '>(</span>play piano <span style='color:#008c00; '>63</span> <span style='color:#008c00; '>80</span> <span style='color:#008c00; '>1</span><span style='color:#308080; '>)</span>
      <span style='color:#308080; '>(</span>callback <span style='color:#308080; '>(</span><span style='color:#308080; '>*</span>metro<span style='color:#308080; '>*</span> <span style='color:#308080; '>(</span><span style='color:#308080; '>+</span> beat <span style='color:#308080; '>(</span><span style='color:#308080; '>*</span> <span style='color:#008c00; '>1</span><span style='color:#308080; '>/</span><span style='color:#008c00; '>2</span> <span style='color:#008c00; '>1</span><span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#308080; '>)</span> '<span style='color:#200080; font-weight:bold; '>loop</span> <span style='color:#308080; '>(</span><span style='color:#308080; '>+</span> beat <span style='color:#008c00; '>1</span><span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#308080; '>)</span>

<span style='color:#308080; '>(</span><span style='color:#200080; font-weight:bold; '>loop</span> <span style='color:#308080; '>(</span><span style='color:#308080; '>*</span>metro<span style='color:#308080; '>*</span> 'get<span style='color:#308080; '>-</span>beat <span style='color:#008c00; '>4</span><span style='color:#308080; '>)</span><span style='color:#308080; '>)</span>

<span style='color:#595979; '>;; by redefining the error hook we can provide</span>
<span style='color:#595979; '>;; additional specialisation - such as replacing</span>
<span style='color:#595979; '>;; any unbound symbol with 60!</span>
<span style='color:#595979; '>;; </span>
<span style='color:#595979; '>;; eval below and both notes will play</span>
<span style='color:#595979; '>;; 'pitch being replaced by 60</span>
<span style='color:#308080; '>(</span>define <span style='color:#308080; '>*</span>livecoding<span style='color:#308080; '>-</span>error<span style='color:#308080; '>-</span>hook<span style='color:#308080; '>*</span> 
   <span style='color:#308080; '>(</span>lambda <span style='color:#308080; '>(</span>msg a<span style='color:#308080; '>)</span> 
      <span style='color:#308080; '>(</span>cond <span style='color:#308080; '>(</span><span style='color:#308080; '>(</span>symbol<span style='color:#308080; '>?</span> a<span style='color:#308080; '>)</span> <span style='color:#008c00; '>60</span><span style='color:#308080; '>)</span>
            <span style='color:#308080; '>(</span><span style='color:#004a43; '>else</span> <span style='color:#008c00; '>0</span><span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#308080; '>)</span><span style='color:#308080; '>)</span>
</pre>
<p>Happy (and safer) livecoding!</p>
<p>&nbsp;</p>
]]></content:encoded>
									<post-id xmlns="com-wordpress:feed-additions:1">1099</post-id>	</item>
		<item>
		<title>An alternative to the &#8216;play&#8217; macro: &#8216;iplay&#8217; and &#8216;with-instrument&#8217;</title>
		<link>http://www.michelepasin.org/blog/2011/03/29/an-alternative-to-the-play-macro-iplay-and-with-instrument/</link>
				<pubDate>Tue, 29 Mar 2011 20:17:12 +0000</pubDate>
		<dc:creator><![CDATA[mikele]]></dc:creator>
				<category><![CDATA[Computer Music]]></category>
		<category><![CDATA[impromptu]]></category>
		<category><![CDATA[macro]]></category>
		<category><![CDATA[play]]></category>

		<guid isPermaLink="false">http://www.michelepasin.org/blog/?p=1008</guid>
				<description><![CDATA[The other day I was thinking: when I use the play macro in Impromptu [video tutorial], in my head it&#8217;s already obvious what&#8217;s the virtual instrument I want to play. So why do I have to specify that all the time? Wouldn&#8217;t it be more natural just being able to say, for example, get this [&#8230;]]]></description>
								<content:encoded><![CDATA[<p>The other day I was thinking: when I use the <a href="http://moso.com.au/wiki/index.php?title=Play">play macro in Impromptu</a> [<a href="http://impromptu.moso.com.au/resources.html#faq16">video tutorial</a>], in my head it&#8217;s already <strong>obvious</strong> what&#8217;s the virtual instrument I want to play. So why do I have to specify that all the time? Wouldn&#8217;t it be more natural just being able to say, for example, <strong>get this instrument</strong> and now <strong>play this and that note with it</strong>&#8230; </p>
<p>Let me clarify this with an example. Let&#8217;s set up the standard Apple&#8217;s DLS-synth audiounit and the metronome:</p>
<pre style='color:#000000;background:#ffffff;'><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>au:clear-graph</span><span style='color:#808030; '>)</span>
<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>define</span> dls     <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>au:make-node</span> <span style='color:#0000e6; '>"aumu"</span> <span style='color:#0000e6; '>"dls "</span> <span style='color:#0000e6; '>"appl"</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>au:connect-node</span> dls <span style='color:#008c00; '>0</span> *au:<span style='color:#400000; '>output-node*</span> <span style='color:#008c00; '>0</span><span style='color:#808030; '>)</span>
<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>au:update-graph</span><span style='color:#808030; '>)</span>
<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>au:print-graph</span><span style='color:#808030; '>)</span>
<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>define</span> *metro* <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>make-metro</span> <span style='color:#008c00; '>100</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
</pre>
<p>Now imagine that we want to play some (dumb) melody with Apple&#8217;s DLS. We can use the usual <em>play</em> macro to achieve this quite easily (that&#8217;s because above we set up the metronome, which is needed in order to use <em>play</em> &#8211; check out the <a href="http://moso.com.au/wiki/index.php?title=Play">docs</a> if this sounds odd to you). </p>
<p>Sequencing a bunch of notes is thus just a matter of sequencing <em>play</em> macros:  </p>
<pre style='color:#000000;background:#ffffff;'><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>define</span> the-usual-play
   <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>lambda</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>beat</span><span style='color:#808030; '>)</span> 
      <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>play</span> dls <span style='color:#008c00; '>60</span> <span style='color:#008c00; '>90</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span>
      <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>play</span> dls <span style='color:#008c00; '>64</span> <span style='color:#008c00; '>90</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span>
      <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>play</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>/</span><span style='color:#008c00; '>2</span> dls <span style='color:#008c00; '>72</span> <span style='color:#008c00; '>90</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span>
      <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>play</span> <span style='color:#008c00; '>3</span><span style='color:#808030; '>/</span><span style='color:#008c00; '>2</span> dls <span style='color:#008c00; '>67</span> <span style='color:#008c00; '>90</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span>
      <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>callback</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>*metro*</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>+</span> beat <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>*</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>/</span><span style='color:#008c00; '>2</span> <span style='color:#008c00; '>2</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span> <span style='color:#800080; '>'the-usual-play</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>+</span> beat <span style='color:#008c00; '>2</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>

<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>the-usual-play</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>*metro*</span> <span style='color:#800080; '>'get-beat</span> <span style='color:#008c00; '>4</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
</pre>
<p><strong>That&#8217;s where I started getting nervous</strong> (so to say). Having to write &#8216;dls&#8217; each time I play a new note seemed to me redundant and illogical; I <strong>know</strong> that it&#8217;s dls the instrument I want to play &#8211; I heard my mind screaming &#8211; why can&#8217;t I focus on the music instead of making sure I type in the instrument name all the time?</p>
<h3>Taking advantage of Scheme, the self-modifying language</h3>
<p>Luckily though we&#8217;re using <a href="http://www.michelepasin.org/blog/2010/08/10/learning-resources-about-scheme/">Scheme</a>, which differently from most other computer languages allows you to change the language grammar as you like, thanks to <a href="http://en.wikipedia.org/wiki/Macro_(computer_science)">macros</a>. So here we go, we can create a new macro similar to <em>play</em> that lets you omit the instrument you&#8217;re playing. We&#8217;ll call it <em><strong>iplay</strong></em> (shortcut for instrument-play, not itunes :-)):</p>
<pre style='color:#000000;background:#ffffff;'><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>macro</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>iplay</span> args<span style='color:#808030; '>)</span>  
   <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>cond</span> <span style='color:#808030; '>(</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>equal?</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>length</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>cdr</span> args<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span> <span style='color:#008c00; '>3</span><span style='color:#808030; '>)</span>
          `<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>let</span> <span style='color:#808030; '>(</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>note</span> <span style='color:#666616; '>,</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>cadr</span> args<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
                 <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>vol</span> <span style='color:#666616; '>,</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>caddr</span> args<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
                 <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>dur</span> <span style='color:#666616; '>,</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>cadddr</span> args<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
                 <span style='color:#808030; '>)</span>
              <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>play</span> my-inst note vol dur<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
         <span style='color:#808030; '>(</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>equal?</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>length</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>cdr</span> args<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span> <span style='color:#008c00; '>4</span><span style='color:#808030; '>)</span>
          `<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>let</span> <span style='color:#808030; '>(</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>offset</span> <span style='color:#666616; '>,</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>cadr</span> args<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
                 <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>note</span> <span style='color:#666616; '>,</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>caddr</span> args<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
                 <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>vol</span> <span style='color:#666616; '>,</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>cadddr</span> args<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
                 <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>dur</span> <span style='color:#666616; '>,</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>cadddr</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>cdr</span> args<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>               
           <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>play</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>eval</span> offset<span style='color:#808030; '>)</span> my-inst note vol dur<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
         <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>#t</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>print</span> <span style='color:#0000e6; '>"Error: the function only accepts 3 or 4 argument"</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
</pre>
<p>Essentially what we&#8217;re telling the interpreter here is that every time <em>iplay</em> is used, the original <em>play</em> should be called and the symbol <em>my-inst</em> should be passed as the variable representing our instrument. Now we can modify the simple loop defined above like this: </p>
<pre style='color:#000000;background:#ffffff;'><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>define</span> the-usual-play-modified
   <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>lambda</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>beat</span><span style='color:#808030; '>)</span> 
      <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>let</span> <span style='color:#808030; '>(</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>my-inst</span> dls<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
         <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>iplay</span> <span style='color:#008c00; '>60</span> <span style='color:#008c00; '>90</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span>
         <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>iplay</span> <span style='color:#008c00; '>64</span> <span style='color:#008c00; '>90</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
      <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>play</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>/</span><span style='color:#008c00; '>2</span> dls <span style='color:#008c00; '>72</span> <span style='color:#008c00; '>90</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span>
      <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>play</span> <span style='color:#008c00; '>3</span><span style='color:#808030; '>/</span><span style='color:#008c00; '>2</span> dls <span style='color:#008c00; '>67</span> <span style='color:#008c00; '>90</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span>
      <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>callback</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>*metro*</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>+</span> beat <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>*</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>/</span><span style='color:#008c00; '>2</span> <span style='color:#008c00; '>2</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span> <span style='color:#800080; '>'the-usual-play-modified</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>+</span> beat <span style='color:#008c00; '>2</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>

<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>the-usual-play-modified</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>*metro*</span> <span style='color:#800080; '>'get-beat</span> <span style='color:#008c00; '>4</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
</pre>
<p>If you run that, you&#8217;ll see that this loop sounds exactly the same as the previous one, although the first two <em>play</em> calls are now <em><strong>iplay</strong></em> macro calls. The whole thing works because we introduced a local variable <em>my-inst</em> and bound that to the dls audio instrument (created at the beginning). Notice that <strong>the new macro <em>iplay</em> knows nothing about what instrument is playing</strong>: it&#8217;s just using blindly the <em>my-inst</em> variable, under the assumption that we&#8217;ve associated it to a valid audio instrument. </p>
<h3>Some more syntactic sugar</h3>
<p>The only hassle now is that each time we want to use <em>iplay</em> we are forced to use the <em>(let ((my-inst dls))..</em> form. Typing this stuff doesn&#8217;t feel very natural too. Rather, in my head, I tend to see things like this: get an instrument first, then play a bunch of notes with it. </p>
<p>So, let&#8217;s create some syntactic sugar for the &#8216;<em>let</em>&#8216; form, by defining another macro, &#8216;<em>with-instrument</em>&#8216;:</p>
<pre style='color:#000000;background:#ffffff;'><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>macro</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>with-instrument</span> args<span style='color:#808030; '>)</span>
   `<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>let</span> <span style='color:#808030; '>(</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>my-inst</span> <span style='color:#666616; '>,</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>cadr</span> args<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
       <span style='color:#666616; '>,@</span><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>cddr</span> args<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
</pre>
<p>As you can see, this macro doesn&#8217;t do much: it just rephrases the <em>let</em> form above in a way that is probably more natural to me (and to others too I believe..). </p>
<p>For example, now we can use <em>iplay</em> like this: </p>
<pre style='color:#000000;background:#ffffff;'><span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>define</span> justatest
   <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>lambda</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>beat</span><span style='color:#808030; '>)</span>      
      <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>with-instrument</span> dls 
          <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>iplay</span> <span style='color:#008c00; '>48</span> <span style='color:#008c00; '>40</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span>  <span style='color:#696969; '>;; iplay with 3 args: pitch, vol and dur</span>
          <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>iplay</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>random</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>list</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>/</span><span style='color:#008c00; '>2</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>/</span><span style='color:#008c00; '>4</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>/</span><span style='color:#008c00; '>8</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>random</span> <span style='color:#008c00; '>60</span> <span style='color:#008c00; '>80</span><span style='color:#808030; '>)</span> <span style='color:#008c00; '>40</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>  <span style='color:#696969; '>;; 4 arguments: offset</span>
      <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>callback</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>*metro*</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>+</span> beat <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>*</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>/</span><span style='color:#008c00; '>2</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span> <span style='color:#800080; '>'justatest</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>+</span> beat <span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>

<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>justatest</span> <span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>*metro*</span> <span style='color:#800080; '>'get-beat</span> <span style='color:#008c00; '>4</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span>
</pre>
<p>Finally, <strong>let&#8217;s remember</strong> that because of the way we defined <em>iplay</em> above, we can pass it 3 or 4 arguments: in the first case, the macro assumes that we&#8217;re providing a <strong>pitch</strong>, a <strong>volume</strong>, and a <strong>duration</strong>. In the second case instead the first argument is assumed to be an <strong>offset</strong> value (while the others remain unchanged). </p>
<p>The <a href="http://moso.com.au/wiki/index.php?title=Play">original <em>play</em> macro</a> can take another argument too: the <strong>channel</strong> (or midi port). I haven&#8217;t included here cause I normally don&#8217;t need it, but if you do I&#8217;m sure you can fiddle a bit with the code above and make it do whatever you want!</p>
<p>Conclusion: here is the code you need to evaluate within Impromptu if you want to use the with/iplay constructs (all the source code is also available on <a href="https://bitbucket.org/magicrebirth/impromptu_public/src/tip/_libs/playau.scm">BitBucket</a>):</p>
<pre style='color:#000000;background:#f1f0f0;'><span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>macro</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>with-instrument</span> args<span style='color:#806030; '>)</span>
   `<span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>let</span> <span style='color:#806030; '>(</span><span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>my-inst</span> <span style='color:#00dddd; '>,</span><span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>cadr</span> args<span style='color:#806030; '>)</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span>
       <span style='color:#00dddd; '>,@</span><span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>cddr</span> args<span style='color:#806030; '>)</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span>


<span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>macro</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>iplay</span> args<span style='color:#806030; '>)</span>
   <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>cond</span> <span style='color:#806030; '>(</span><span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>equal?</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>length</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>cdr</span> args<span style='color:#806030; '>)</span><span style='color:#806030; '>)</span> <span style='color:#c00000; '>3</span><span style='color:#806030; '>)</span>
          `<span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>let</span> <span style='color:#806030; '>(</span><span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>note</span> <span style='color:#00dddd; '>,</span><span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>cadr</span> args<span style='color:#806030; '>)</span><span style='color:#806030; '>)</span>
                 <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>vol</span> <span style='color:#00dddd; '>,</span><span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>caddr</span> args<span style='color:#806030; '>)</span><span style='color:#806030; '>)</span>
                 <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>dur</span> <span style='color:#00dddd; '>,</span><span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>cadddr</span> args<span style='color:#806030; '>)</span><span style='color:#806030; '>)</span>
                 <span style='color:#806030; '>)</span>
              <span style='color:#c34e00; '>;(print inst beat note vol dur)</span>
              <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>play</span> my-inst note vol dur<span style='color:#806030; '>)</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span>
         <span style='color:#806030; '>(</span><span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>equal?</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>length</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>cdr</span> args<span style='color:#806030; '>)</span><span style='color:#806030; '>)</span> <span style='color:#c00000; '>4</span><span style='color:#806030; '>)</span>
          `<span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>let</span> <span style='color:#806030; '>(</span><span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>offset</span> <span style='color:#00dddd; '>,</span><span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>cadr</span> args<span style='color:#806030; '>)</span><span style='color:#806030; '>)</span>
                 <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>note</span> <span style='color:#00dddd; '>,</span><span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>caddr</span> args<span style='color:#806030; '>)</span><span style='color:#806030; '>)</span>
                 <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>vol</span> <span style='color:#00dddd; '>,</span><span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>cadddr</span> args<span style='color:#806030; '>)</span><span style='color:#806030; '>)</span>
                 <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>dur</span> <span style='color:#00dddd; '>,</span><span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>cadddr</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>cdr</span> args<span style='color:#806030; '>)</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span>
           <span style='color:#c34e00; '>;(print inst beat note vol dur)</span>
           <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>play</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>eval</span> offset<span style='color:#806030; '>)</span> my-inst note vol dur<span style='color:#806030; '>)</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span>
         <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>#t</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>print</span> <span style='color:#e60000; '>"Error: the function only accepts 3 or 4 argument"</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span>
</pre>
<h3>Finally.. a &#8216;pastebin&#8217; function</h3>
<p>Also, here is a pastebin function similar to <a href="http://moso.com.au/wiki/index.php?title=Pb:cb">pb:cb</a> (check out this <a href="http://impromptu.moso.com.au/resources.html#faq15">video tutorial</a> if you don&#8217;t know what I&#8217;m talking about) that returns a template with the <em>with-instrument</em> macro:</p>
<pre style='color:#000000;background:#f1f0f0; overflow:auto;'><span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>define</span> pb<span style='color:#800000; font-weight:bold; '>:iplay</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>lambda</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>name</span> dur inst<span style='color:#806030; '>)</span> <span style='color:#806030; '>'</span><span style='color:#806030; '>(</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span>  <span style='color:#c34e00; '>;; fake function definition, useful for autocompletion!</span>

<span style='color:#c34e00; '>;; macro wrapper for pb-iplay</span>
<span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>define-macro</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>pb:iplay</span> name dur inst <span style='color:#806030; '>.</span> args<span style='color:#806030; '>)</span>
   `<span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>pb-iplay</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>sexpr->string</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>quote</span> <span style='color:#00dddd; '>,name</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span> 
              <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>sexpr->string</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>quote</span> <span style='color:#00dddd; '>,dur</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span>
              <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>sexpr->string</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>quote</span> <span style='color:#00dddd; '>,inst</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span>
              <span style='color:#00dddd; '>,@</span><span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>map</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>lambda</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>expr</span><span style='color:#806030; '>)</span>
                        <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>sexpr->string</span> expr<span style='color:#806030; '>)</span><span style='color:#806030; '>)</span>
                     args<span style='color:#806030; '>)</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span>


<span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>define</span> pb-iplay
   <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>lambda</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>name</span> dur inst <span style='color:#806030; '>.</span> args<span style='color:#806030; '>)</span>
      <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>let</span> <span style='color:#806030; '>(</span><span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>a</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>apply</span> string-append <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>map</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>lambda</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>e</span><span style='color:#806030; '>)</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>string-append</span> <span style='color:#e60000; '>"n      "</span> e<span style='color:#806030; '>)</span><span style='color:#806030; '>)</span> args<span style='color:#806030; '>)</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span>
         <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>sys:set-pasteboard</span>
         <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>string-append</span> 
<span style='color:#e60000; '>"(define "</span> name "
   <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>lambda</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>beat</span><span style='color:#806030; '>)</span> 
      <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>with-instrument</span> <span style='color:#e60000; '>" inst "</span>
          <span style='color:#e60000; '>" a "</span>
     <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>callback</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>*metro*</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>+</span> beat <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>*</span> <span style='color:#c00000; '>1</span><span style='color:#806030; '>/</span><span style='color:#c00000; '>2</span> <span style='color:#e60000; '>" dur "</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span> <span style='color:#806030; '>'</span><span style='color:#e60000; '>" name "</span> <span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>+</span> beat <span style='color:#e60000; '>" dur "</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span>nn<span style='color:#806030; '>(</span><span style='color:#400000; font-weight:bold; '>"</span> name <span style='color:#e60000; '>" (*metro* 'get-beat 4))"</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span><span style='color:#806030; '>)</span>



<span style='color:#c34e00; '>;;;;;;;;;;;;;;;;</span>
<span style='color:#c34e00; '>;; call it like this: </span>
<span style='color:#c34e00; '>;(pb:iplay myloop 1/4 dls)</span>
<span style='color:#c34e00; '>;;</span>

<span style='color:#c34e00; '>;;;;;;;;;;;;;;;;;</span>
<span style='color:#c34e00; '>;; returns: </span>
<span style='color:#c34e00; '>;;;;;;;;;;;;;;;;</span>

<span style='color:#c34e00; '>;</span>
<span style='color:#c34e00; '>;(define myloop</span>
<span style='color:#c34e00; '>;   (lambda (beat) </span>
<span style='color:#c34e00; '>;      (with-instrument dls</span>
<span style='color:#c34e00; '>;</span>
<span style='color:#c34e00; '>;     (callback (*metro* (+ beat (* 1/2 1/4))) 'myloop (+ beat 1/4)))))</span>
<span style='color:#c34e00; '>;</span>
<span style='color:#c34e00; '>;(myloop (*metro* 'get-beat 4))</span>
</pre>
]]></content:encoded>
									<post-id xmlns="com-wordpress:feed-additions:1">1008</post-id>	</item>
		<item>
		<title>What is the reaper time in Impromptu?</title>
		<link>http://www.michelepasin.org/blog/2011/02/07/what-is-the-reaper-time-in-impromptu/</link>
				<pubDate>Mon, 07 Feb 2011 11:01:09 +0000</pubDate>
		<dc:creator><![CDATA[mikele]]></dc:creator>
				<category><![CDATA[Computer Music]]></category>
		<category><![CDATA[impromptu]]></category>
		<category><![CDATA[latency]]></category>
		<category><![CDATA[reaper]]></category>
		<category><![CDATA[settings]]></category>

		<guid isPermaLink="false">http://www.michelepasin.org/blog/?p=991</guid>
				<description><![CDATA[I got this info while reading Kontakt 4 documentation, and I thought it was useful to pass it on. It helps understanding the significance of the &#8216;reaper time&#8217; setting in Impromptu, which I often playing around with without really getting it&#8230; (check Reaper stuff on IM mailing list). Kontakt 4 is an aaward winning sampler [&#8230;]]]></description>
								<content:encoded><![CDATA[<p>I got this info while reading Kontakt 4 documentation, and I thought it was useful to pass it on. It helps understanding the significance of the &#8216;reaper time&#8217; setting in Impromptu, which I often playing around with without really getting it&#8230; (check Reaper stuff on IM mailing list).</p>
<p><a href="https://www.soundonsound.com/reviews/native-instruments-kontakt-4">Kontakt 4</a> is an aaward winning sampler from Native Instrument; I was just going through the docs the other day to figure out what it does or doesn&#8217;t do and in the section that explain the various ettings parameters I found the description of the<strong> &#8216;latency optimization&#8217;</strong> very useful <a href="https://www.native-instruments.com/fileadmin/ni_media/downloads/manuals/KONTAKT_PLAYER_4_Getting_Started_English.pdf">(2.1.2 Latency Optimization [KONTAKT 4 Getting Started – page 11 &#8211; get the pdf of the manual here)</a>.</p>
<p>The Latency slider controls the size of the playback buffer.</p>
<p>And here is the explanation of that setting:</p>
<blockquote><p>The load that typical digital audio calculations generate on your processor is often not constant and predictable; parameter changes, additional voices or other processes can all cause mo- mentary peaks in the load, which can result in drop-outs or other audio artifacts if not properly compensated for. That is why audio programs do not send the audio signals they generate directly to the hardware, but write them to a short buffer in memory instead, whose contents are in turn being sent to the actual hardware. This concept allows the program to bridge short irregularities in the stream calculation and thus be more resistant to processing peaks.<br />
Of course, this “safety net” comes at a price–the buffering causes a delay, known as latency, between the triggering of a note and the actual sound. This delay gets longer with increas- ing buffer sizes. Hence, it’s vital to tune the buffer size in order to find a good compromise between latency and playback reliability. The optimal value depends on such diverse factors as your CPU, memory and hard disk access times, your audio hardware and drivers, and your operating system environment.<br />
In order to find the optimal buffer size for your system, we recommend that you begin by setting the Latency slider described in the previous section to a healthy middle value between 384 and 512 samples, then gradually decrease the value during your normal work. When you begin to notice drop-outs, increase the buffer again by a small amount.<br />
Generally, it’s a good idea to have as few other applications as possible running in the back- ground when working with audio software. Also, if you can’t get below a certain buffer size without getting drop-outs, consult the documentation of your audio hardware to find out whether you can access it via an alternate driver architecture, as some architectures allow more efficient low-level access to the hardware than others.</p></blockquote>
]]></content:encoded>
									<post-id xmlns="com-wordpress:feed-additions:1">991</post-id>	</item>
		<item>
		<title>Opening a Finder&#8217;s window from Impromptu (alas how to use the applescript bridge..)</title>
		<link>http://www.michelepasin.org/blog/2011/01/30/opening-a-finders-window-from-impromptu-alas-how-to-use-the-applescript-bridge/</link>
				<pubDate>Sat, 29 Jan 2011 23:00:15 +0000</pubDate>
		<dc:creator><![CDATA[mikele]]></dc:creator>
				<category><![CDATA[Computer Music]]></category>
		<category><![CDATA[applescript]]></category>
		<category><![CDATA[finder]]></category>
		<category><![CDATA[impromptu]]></category>
		<category><![CDATA[objc]]></category>
		<category><![CDATA[programming]]></category>
		<category><![CDATA[scheme]]></category>

		<guid isPermaLink="false">http://www.michelepasin.org/blog/?p=982</guid>
				<description><![CDATA[Imagine you&#8217;ve got a bunch of audio samples you want to load up while livecoding with Impromptu but you can&#8217;t remember exactly their names &#8211; it&#8217;d be handy to be able to open up the corresponding Finder window directly from scheme, without too much clicking around. Do-able or not? I spent some time trying to [&#8230;]]]></description>
								<content:encoded><![CDATA[<p>Imagine you&#8217;ve got a bunch of audio samples you want to load up while livecoding with <a href="http://impromptu.moso.com.au/">Impromptu</a> but you can&#8217;t remember exactly their names &#8211; it&#8217;d be handy to be able to open up the corresponding Finder window directly from scheme, without too much clicking around. Do-able or not? </p>
<p>I spent some time trying to figure this out, and the answer is yes! Quite a nice learning experience&#8230; although it came with a <strong>surprise</strong> at the end.</p>
<p>Originally I thought, let&#8217;s do it via impromptu&#8217;s <a href="http://moso.com.au/wiki/index.php?title=ObjC_Functions">ObjC bridge</a>. I don&#8217;t know much about ObjC but after a bit of googling it seemed evident that the <a href="http://stackoverflow.com/questions/1446814/open-a-terminal-window-to-a-specified-folder-from-a-cocoa-app">quickest way to accomplish this</a> is by writing ObjC code that, in turns, runs a simple <a href="http://www.macosxautomation.com/applescript/">applescript</a> command that opens a window:</p>
<p>&nbsp;</p>
<div class="objc" style="font-family:monospace;font-size:13px;padding:10px; overflow:auto;color: #006; border: 1px solid #d0d0d0; background-color: #f0f0f0;"><a style="color: #000060;" href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSString_Class/"><span style="color: #400080;">NSString</span></a> <span style="color: #002200;">*</span>s <span style="color: #002200;">=</span> <span style="color: #002200;">&#91;</span><a style="color: #000060;" href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSString_Class/"><span style="color: #400080;">NSString</span></a> stringWithFormat<span style="color: #002200;">:</span><br />
&nbsp; &nbsp; &nbsp;<span style="color: #bf1d1a;">@</span><span style="color: #bf1d1a;">&quot;tell application <span style="color: #2400d9;">&quot;</span>Terminal<span style="color: #2400d9;">&quot;</span> to do script <span style="color: #2400d9;">&quot;</span>cd %@<span style="color: #2400d9;">&quot;</span>&quot;</span>, folderPath<span style="color: #002200;">&#93;</span>;</p>
<p><a style="color: #000060;" href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSAppleScript_Class/"><span style="color: #400080;">NSAppleScript</span></a> <span style="color: #002200;">*</span>as <span style="color: #002200;">=</span> <span style="color: #002200;">&#91;</span><span style="color: #002200;">&#91;</span><a style="color: #000060;" href="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSAppleScript_Class/"><span style="color: #400080;">NSAppleScript</span></a> alloc<span style="color: #002200;">&#93;</span> initWithSource<span style="color: #002200;">:</span> s<span style="color: #002200;">&#93;</span>;<br />
<span style="color: #002200;">&#91;</span>as executeAndReturnError<span style="color: #002200;">:</span><span style="color: #a61390;">nil</span><span style="color: #002200;">&#93;</span>;</div>
<p>&nbsp;</p>
<p>So I translated the bottom part of the code above into impromptu/scheme:</p>
<p>&nbsp;</p>
<div class="scheme" style="font-family:monospace;font-size:13px;padding:10px; overflow:auto;color: #006; border: 1px solid #d0d0d0; background-color: #f0f0f0;"><span style="color: #66cc66;">&#40;</span><span style="color: #b1b100;">define</span> run_applescript<br />
&nbsp; &nbsp;<span style="color: #66cc66;">&#40;</span><span style="color: #b1b100;">lambda</span> <span style="color: #66cc66;">&#40;</span>script<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>objc:call <span style="color: #66cc66;">&#40;</span>objc:call <span style="color: #66cc66;">&#40;</span>objc:call <span style="color: #ff0000;">&quot;NSAppleScript&quot;</span> <span style="color: #ff0000;">&quot;alloc&quot;</span><span style="color: #66cc66;">&#41;</span> <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">&quot;initWithSource:&quot;</span> <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; script<span style="color: #66cc66;">&#41;</span> <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #ff0000;">&quot;executeAndReturnError:&quot;</span> <span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span></div>
<p>&nbsp;</p>
<p>That is a generic script-running function, that is, you can pass any script and it&#8217;ll run it, eg:</p>
<p>&nbsp;</p>
<div class="scheme" style="font-family:monospace;font-size:13px;padding:10px; overflow:auto;color: #006; border: 1px solid #d0d0d0; background-color: #f0f0f0;"><span style="color: #66cc66;">&#40;</span><span style="color: #b1b100;">define</span> script0 <span style="color: #ff0000;">&quot;<span style="color: #000099; font-weight: bold;"></span><br />
&nbsp; &nbsp;tell application <span style="color: #000099; font-weight: bold;">&quot;</span>Finder<span style="color: #000099; font-weight: bold;">&quot;</span> to open folder <span style="color: #000099; font-weight: bold;">&quot;</span>Macintosh HD:Users<span style="color: #000099; font-weight: bold;">&quot;</span> <br />
&nbsp; &nbsp;tell application <span style="color: #000099; font-weight: bold;">&quot;</span>Finder<span style="color: #000099; font-weight: bold;">&quot;</span> to activate&quot;</span><span style="color: #66cc66;">&#41;</span></p>
<p>
<span style="color: #66cc66;">&#40;</span><span style="color: #b1b100;">define</span> script1 <span style="color: #ff0000;">&quot;<span style="color: #000099; font-weight: bold;"></span><br />
&nbsp; &nbsp;tell application <span style="color: #000099; font-weight: bold;">&quot;</span>Terminal<span style="color: #000099; font-weight: bold;">&quot;</span> to do script <span style="color: #000099; font-weight: bold;">&quot;</span>cd ~; open .<span style="color: #000099; font-weight: bold;">&quot;</span>&quot;</span><span style="color: #66cc66;">&#41;</span></p>
<p>
<span style="color: #66cc66;">&#40;</span><span style="color: #b1b100;">define</span> script2 <span style="color: #ff0000;">&quot;<span style="color: #000099; font-weight: bold;"></span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tell application <span style="color: #000099; font-weight: bold;">&quot;</span>System Events<span style="color: #000099; font-weight: bold;">&quot;</span><span style="color: #000099; font-weight: bold;">n</span><span style="color: #000099; font-weight: bold;"></span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tell dock preferences<span style="color: #000099; font-weight: bold;">n</span><span style="color: #000099; font-weight: bold;"></span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; set properties to {autohide:false}<span style="color: #000099; font-weight: bold;">n</span><span style="color: #000099; font-weight: bold;"></span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end tell<span style="color: #000099; font-weight: bold;">n</span><span style="color: #000099; font-weight: bold;"></span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end tell&quot;</span><span style="color: #66cc66;">&#41;</span></p>
<p><span style="color: #808080; font-style: italic;">;; finally, let&#8217;s choose randomly one of the scripts above and run it</span><br />
<span style="color: #66cc66;">&#40;</span>run_applescript <span style="color: #66cc66;">&#40;</span>random &#8216;<span style="color: #66cc66;">&#40;</span>script0 script1 script2<span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span></div>
<p>&nbsp;</p>
<p>Now, back to the original problem: in order to open a Finder&#8217;s window at a specified location we need to pass the location variable to our function <em>run_applescript</em>; also, we want to be able to pass unix path expressions (eg &#8216;/Users/mike/music/&#8217;), so we&#8217;ve got to transform that path syntax into the semicolon-delimited macintosh syntax (&#8220;Macintosh HD:Users:mike:music&#8221;) needed by the applescript function we&#8217;re using. That&#8217;s easily done with <em>string-replace</em>, so here we go:</p>
<p>&nbsp;</p>
<div class="scheme" style="font-family:monospace;font-size:13px;padding:10px; overflow:auto;color: #006; border: 1px solid #d0d0d0; background-color: #f0f0f0;"><span style="color: #66cc66;">&#40;</span><span style="color: #b1b100;">define</span> open_finder_at <br />
&nbsp; &nbsp;<span style="color: #66cc66;">&#40;</span><span style="color: #b1b100;">lambda</span> <span style="color: #66cc66;">&#40;</span>location<span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span><span style="color: #b1b100;">let*</span> <span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#40;</span>llocation <span style="color: #66cc66;">&#40;</span>string<span style="color: #66cc66;">&#8211;</span>replace location <span style="color: #ff0000;">&quot;/&quot;</span> <span style="color: #ff0000;">&quot;:&quot;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span>script <span style="color: #66cc66;">&#40;</span><span style="color: #b1b100;">string-append</span> <span style="color: #ff0000;">&quot;tell application <span style="color: #000099; font-weight: bold;">&quot;</span>Finder<span style="color: #000099; font-weight: bold;">&quot;</span> to activate open folder <span style="color: #000099; font-weight: bold;">&quot;</span>Macintosh HD&quot;</span> llocation <span style="color: #ff0000;">&quot;<span style="color: #000099; font-weight: bold;">&quot;</span>&quot;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #66cc66;">&#40;</span>objc:call <span style="color: #66cc66;">&#40;</span>objc:call <span style="color: #66cc66;">&#40;</span>objc:call <span style="color: #ff0000;">&quot;NSAppleScript&quot;</span> <span style="color: #ff0000;">&quot;alloc&quot;</span><span style="color: #66cc66;">&#41;</span> <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #ff0000;">&quot;initWithSource:&quot;</span> <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;script<span style="color: #66cc66;">&#41;</span> <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">&quot;executeAndReturnError:&quot;</span> <span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span></p>
<p>
<span style="color: #66cc66;">&#40;</span>open_finder_at <span style="color: #ff0000;">&quot;/Users/me/&quot;</span><span style="color: #66cc66;">&#41;</span></div>
<p>&nbsp;</p>
<p>That&#8217;s pretty much it really&#8230; now we can easily open OsX Finder&#8217;s windows from within Impromptu.</p>
<p>But as I said above, there&#8217;s a surprise: after getting this far I thought I&#8217;d search impromptu&#8217;s mailing list for more examples of <a href="http://moso.com.au/wiki/index.php?title=ObjC_Functions">obj:call</a> &#8230;. and guess what, there&#8217;s already a system function that runs applescripts, it&#8217;s called <a href="http://moso.com.au/wiki/index.php?title=Sys:run-applescript">sys:run-applescript</a> ! </p>
<p>Too bad, it&#8217;s been a rewarding learning experience anyways&#8230;</p>
<p>&nbsp;</p>
]]></content:encoded>
									<post-id xmlns="com-wordpress:feed-additions:1">2188</post-id>	</item>
		<item>
		<title>Impromptu 2.5 released</title>
		<link>http://www.michelepasin.org/blog/2010/10/13/impromptu-2-5/</link>
				<pubDate>Wed, 13 Oct 2010 15:41:12 +0000</pubDate>
		<dc:creator><![CDATA[mikele]]></dc:creator>
				<category><![CDATA[Computer Music]]></category>
		<category><![CDATA[impromptu]]></category>

		<guid isPermaLink="false">http://www.michelepasin.org/blog/?p=858</guid>
				<description><![CDATA[Good news for livecoders: a new version of Impromptu is available (direct link to the 2.5 dmg package). Apart from various bug fixes, it looks like as if the major development is the ICR (impromptu compiler runtime), a new set of scheme functions that facilitate the creation of faster bytecode, so that computationally-intensive tasks such [&#8230;]]]></description>
								<content:encoded><![CDATA[<p><a href="http://www.michelepasin.org/blog/wp-content/uploads/2010/10/Screen-shot-2010-10-13-at-16.39.24.png"><img src="http://www.michelepasin.org/blog/wp-content/uploads/2010/10/Screen-shot-2010-10-13-at-16.39.24.png" alt="Screen shot 2010-10-13 at 16.39.24.png" border="0" width="300" height="70" /></a></p>
<p>Good news for livecoders: a <a href="http://impromptu.moso.com.au/downloads.html">new version of Impromptu is available</a> (direct link to the <a href="http://impromptu.moso.com.au/extras/impromptu_2.5.dmg">2.5 dmg package)</a>. </p>
<p>Apart from various bug fixes, it looks like as if the major development is the ICR (<a href="http://impromptu.moso.com.au/extras/ICR.html">impromptu compiler runtime</a>), a new set of scheme functions that facilitate the creation of faster bytecode, so that computationally-intensive tasks such as real time audio processing or open-gl can perform more efficiently. </p>
<blockquote><p>The new compiler is a far more robust and serious attempt at providing <strong>low level, but completely dynamic</strong> programming support within the Impromptu ecosystem.  It is designed for situations which require low-level systems style programming.  Two primary examples are audio signal processing and opengl programming &#8211; both of which require the production of highly efficient code.  While attempting to achieve runtime efficiency the ICR also tries to maintain Impromptu&#8217;s love of all things dynamic and is designed to coexist with the rest of Impromptu&#8217;s infrastructure (Scheme, Objective-C, AudioUnits etc..).</p>
<p>It is important to state from the outset that the new Impromptu compiler is NOT a scheme compiler.  <strong>It is really its own language</strong>.  This language looks like scheme (sexpr&#8217;s and alike) but is in many ways semantically closer to C (a nice functional version of C :-).  This is because the ICR is designed for purposes that are not suitable for the standard scheme interpreted environment.  Low level tasks that require efficient processing &#8211; such as audio signal processing, graphics programming, or general numerical programming.</p>
<p><strong>Unlike Scheme the Impromptu compiler is statically typed.  You may not always see the static typing but it is always there in the background</strong>.  The reason that you won&#8217;t always see the typing is that the compiler includes a type-inferencer that attempts to guess at your types based on static analysis of your code.  Sometimes this works great, sometimes it doesn&#8217;t.  When things fail, as they surely will, you are able to explicitly specify types to the compiler.</p></blockquote>
<p>A big thanks to Andrew Sorensen for keeping up (and free) this great work!</p>
]]></content:encoded>
									<post-id xmlns="com-wordpress:feed-additions:1">858</post-id>	</item>
		<item>
		<title>Learning resources about Scheme</title>
		<link>http://www.michelepasin.org/blog/2010/08/10/learning-resources-about-scheme/</link>
				<pubDate>Tue, 10 Aug 2010 17:27:17 +0000</pubDate>
		<dc:creator><![CDATA[mikele]]></dc:creator>
				<category><![CDATA[Computer Music]]></category>
		<category><![CDATA[books]]></category>
		<category><![CDATA[impromptu]]></category>
		<category><![CDATA[learning]]></category>
		<category><![CDATA[scheme]]></category>

		<guid isPermaLink="false">http://www.michelepasin.org/blog/?p=808</guid>
				<description><![CDATA[&#8230; So you&#8217;ve decided to know everything about scheme and rock the world using fast-paced programming environments like Impromptu. Well, I confess I did think that on several occasions, but still I haven&#8217;t made it even half way through the schemer pilgmim&#8217;s path. But I&#8217;ve collected quite a few useful resources in the process, and [&#8230;]]]></description>
								<content:encoded><![CDATA[<p><a href="http://www.michelepasin.org/blog/wp-content/uploads/2010/08/3eangz5w.jpg"><img src="http://www.michelepasin.org/blog/wp-content/uploads/2010/08/3eangz5w.jpg" alt="3eangz5w.jpg" border="0" width="200" height="200" /></a><br />
&#8230;</p>
<p>So you&#8217;ve decided to know everything about scheme and rock the world using fast-paced programming environments like <a href="http://impromptu.moso.com.au/">Impromptu</a>.<br />
Well, I confess I did think that on several occasions, but still I haven&#8217;t made it even half way through the <em>schemer pilgmim&#8217;s path</em>. But I&#8217;ve collected quite a few useful resources in the process, and those I can certainly share! </p>
<p>So in what follows I&#8217;ve put together a list of learning resources about Scheme that I found useful.. First off, two links that might be useful in all situations:</p>
<li><a href="http://www.crockford.com/javascript/scheme.html">Little Scheme</a>, an online interpreter that you can use for testing things out while you&#8217;re on holidays</li>
<li><a href="http://www.schemers.org/">Schemers.org</a>, semi-official website containing news and lots of links to other resources</li>
<p>Now, why don&#8217;t we start with the definition offered by the self-regulating <a href="http://en.wikipedia.org/wiki/Scheme_programming_language">wikipedia</a> collective intelligence? Here we go:</p>
<blockquote><p>Scheme is one of the two main <strong>dialects</strong> of the programming language <strong>Lisp</strong>. Unlike Common Lisp, the other main dialect, Scheme follows a <strong>minimalist design philosophy</strong> specifying a small standard core with powerful tools for language extension. Its compactness and elegance have made it <strong>popular with educators, language designers, programmers, implementors, and hobbyists</strong>, and this diverse appeal is seen as both a strength and, because of the diversity of its constituencies and the wide divergence between implementations, one of its weaknesses</p></blockquote>
<p>If this blurb hasn&#8217;t made you proud of learning such a slick language, you&#8217;ll surely find more interesting ideas in what follows. I divided up the list in two sections, generic learning materials about scheme, and tutorials about specific topics (for now, only macros are included).<br />
&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-</p>
<h3>1. Learning Resources About Scheme:</h3>
<li><a href="http://www.accesscom.com/~darius/writings/scheme-for-lispers.html">Scheme for Common Lispers</a>, article<br />
<blockquote><p>The Scheme dialect of Lisp was created in 1975 by Guy Steele and Gerry Sussman to explore ideas in programming-language semantics. They showed that a powerful language can be made &#8220;not by piling feature on top of feature, but by removing the weaknesses and restrictions that make additional features appear necessary&#8221;. Scheme pioneered lexical scope in Lisp, first-class continuations, and tail recursion, and more recently added an advanced macro system. It&#8217;s the best-known Lisp dialect after Common Lisp (which it influenced).<br />
<strong>This note summarizes the differences from CL that might slow down a CL programmer trying to read a Scheme program</strong>; people without a CL background, or wanting to write programs of their own, should see the references.</p></blockquote>
</li>
<li><a href="http://schemecookbook.org/">the Schematics Scheme Cookbook </a><br />
<blockquote><p>The Schematics Scheme Cookbook is a <strong>collaborative effort to produce documentation and recipes for using Scheme for common tasks</strong>. See the BookIntroduction for more information on the Cookbook&#8217;s goals, and the important ContributorAgreement statement.</p></blockquote>
</li>
<li>Harvey, Wright, <a href="http://www.cs.berkeley.edu/~bh/ss-toc2.html">Simply Scheme: Introducing Computer Science</a>, 1999 MIT press [<em>a classic</em>]<br />
<blockquote><p><strong>Symbolic programming</strong> is one aspect of the reason why we like to teach computer science using Scheme instead of a more traditional language. More generally, Lisp (and therefore Scheme) was designed to support what we&#8217;ve called the radical view of computer science. In this view, <strong>computer science is about tools for expressing ideas</strong>. Symbolic programming allows the computer to express ideas; other aspects of Lisp&#8217;s design help the programmer express ideas conveniently. Sometimes that goal comes in conflict with the conservative computer scientist&#8217;s goal of protection against errors.</p></blockquote>
</li>
<li>Felleisen, Findler, Flatt, Krishnamurthi, <a href="http://www.htdp.org/">How to Design Programs An Introduction to Computing and Programming</a>, MIT 2001<br />
<blockquote><p>[..]  programming is more than just a vocational skill. Indeed, <strong>good programming is a fun activity, a creative outlet, and a way to express abstract ideas in a tangible form.</strong> And designing programs teaches a variety of skills that are important in all kinds of professions: critical reading, analytical thinking, creative synthesis, and attention to detail.<br />
We therefore believe that the study of program design deserves the same central role in general education as mathematics and English. Or, put more succinctly, <strong>everyone should learn how to design programs</strong>.<br />
On one hand, program design teaches the same analytical skills as mathematics. But, unlike mathematics, <strong>working with programs is an active approach to learning</strong>. Interacting with software provides immediate feedback and thus leads to exploration, experimentation, and self-evaluation. Furthermore, designing programs produces useful and fun things, which vastly increases the sense of accomplishment when compared to drill exercises in mathematics. On the other hand, program design teaches the same analytical reading and writing skills as English. Even the smallest programming tasks are formulated as word problems. Without critical reading skills, a student cannot design programs that match the specification. Conversely, good program design methods force a student to articulate thoughts about programs in proper English.</p></blockquote>
</li>
<li>Dybvig, <a href="http://www.scheme.com/tspl3/">The Scheme Programming Language</a>, 2003MIT press<br />
<blockquote><p>This book is intended to provide an <strong>introduction to the Scheme programming language but not an introduction to programming in general</strong>. The reader is expected to have had some experience programming and to be familiar with terms commonly associated with computers and programming languages. The author recommends that readers unfamiliar with Scheme or Lisp also read The Little Schemer [<em>see below</em>]to become familiar with the concepts of list processing and recursion. Readers new to programming should begin with an introductory text on programming.</p></blockquote>
</li>
<li>Nils M Holm, &#8220;<a href="http://www.amazon.com/Sketchy-LISP-Nils-M-Holm/dp/1411674480">Sketchy LISP</a>&#8221; [you can <del>download the book here</del> Update 08/12: this book has become &#8216;Sketchy Scheme&#8217; and is now <a href="http://www.lulu.com/shop/nils-m-holm/sketchy-scheme/paperback/product-15591311.html">for-sale here</a>]<br />
<blockquote><p>Sketchy LISP is a <strong>step-by-step introduction to functional programming</strong> in Scheme. It covers various aspects of the language including data types, conditional evaluation, list processing, lexical scoping, closures, recursion, dynamic typing, etc. By means of numerous examples of varying complexity, it takes the reader on an entertaining and informative tour through the language.<br />
The Scheme language achieves what only few languages have managed before: to <strong>bring fun back to programming</strong>. Its simple syntax, clean semantics, and powerful functions open the door to a fresh perspective on program design. Programming in Scheme is fun, and this book is an attempt to share some of that fun.</p></blockquote>
</li>
<li>Friedman and Felleisen, <a href="http://www.ccs.neu.edu/home/matthias/BTLS/">The Little Schemer</a>, 1996 MIT press<br />
<blockquote><p>The goal of this book is to <strong>teach the reader to think recursively</strong>. Our first task, therefore, is to decide which language to use to communicate this concept. There are three obvious choices: a natural language, such as English; formal mathematics; or a programming language. Natural languages are ambiguous, imprecise, and sometimes awkwardly verbose. These are all virtues for general communication, but something of a drawback for communicating concisely as precise a concept as the power of recursion. The language of mathematics is the opposite of natural language: it can express powerful formal ideas with only a few symbols. We could, for example, describe the entire technical content of this book in less than a page of mathematics, but the reader who understands that page has little need for this book. For most people, formal mathematics is not very intuitive. <strong>The marriage of technology and mathematics presents us with a third, almost ideal choice: a programming language.</strong> Programming languages are perhaps the best way to convey the concept of recursion. They share with mathematics the ability to give a formal meaning to a set of symbols. But unlike mathematics, programming languages can be directly experienced&#8212;you can take the programs in this book and try them, observe their behavior, modify them, and experience the effect of your modifications.</p></blockquote>
</li>
<li><a href="http://wla.berkeley.edu/">The Weiner Lectures Archives</a> [various videos, but not complete lectures unfortunately]<br />
<blockquote><p>The goal of this project is to make knowledge of computer science easily available not only to the students at Berkeley, but also to the entire community. For several years, faculty members have been videotaping lectures in CS large lower division courses, mainly as an aid to students with time conflicts that prevent them from attending lectures. By <strong>hosting an archive storing all CS lectures that were recorded</strong>, we hope the computing knowledge that has been gathered can be easily shared. As a teaching aid, a &#8216;greatest hits&#8217; lecture will also be compiled for each course covering all major topics addressed in the corresponding class. The best parts of many different past lectures will be linked together and presented along with slides to make this greatest hits lecture. This lecture should represent the best teaching abilities in the lower division CS lectures and should be a valuable resource in the computer community for basic CS knowledge. Thanks to the generous donation of Larry Weiner this online site should become a permanent resource.</p></blockquote>
</li>
<p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-</p>
<h3>2. Specific topics: </h3>
<h4>On Macros and metaprogramming:</h4>
<li><a href="http://www.ibm.com/developerworks/linux/library/l-metaprog1.html">The art of metaprogramming, Part 1: Introduction to metaprogramming</a>, IBM developer works<br />
<blockquote><p>Summary:  One of the most under-used programming techniques is <strong>writing programs that generate programs or program parts</strong>. Learn why metaprogramming is necessary and look at some of the components of metaprogramming (textual macro languages, specialized code generators). See how to build a code generator and get a closer look at language-sensitive macro programming in Scheme.</p></blockquote>
</li>
<li><a href="http://nostoc.stanford.edu/Docs/livetutorials/macros.html">Lisp Macros &#8212; How to Define Entirely New Languages in Lisp</a><br />
<blockquote><p>This is a very interesting lesson if you want to deeply understand Lisp, and some very deep things about programming, but it&#8217;s also entirely optional; We suggest that you do through it, but not worry too much about understanding it in detail. If you get very deeply into programming, you&#8217;ll find that Lisp macros are an amazing tool, but they are also somewhat <strong>mind-bending</strong>, and used rather rarely in simple programming. So, feel free to skip this lesson, or at least, if you do study it, let it flow over you, and maybe come back to it later on if you find yourself wanting to know more about some of the deep and subtle reaches of Lisp programming.</p></blockquote>
</li>
<li><a href="http://community.schemewiki.org/?scheme-faq-macros">Scheme FAQ Macros</a>, on schemewiki.org</li>
<li><a href="http://stackoverflow.com/questions/131433/sources-for-learning-about-scheme-macros-define-syntax-and-syntax-rules">Sources for learning about Scheme Macros: define-syntax and syntax-rules</a>, a thread on StackOverflow</li>
<li><a href="http://blog.willdonnelly.net/2008/09/04/a-scheme-syntax-rules-primer/">A scheme syntax rules primer</a>, an interesting blog post</li>
<p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-</p>
<p>That&#8217;s all for now&#8230; I&#8217;ll be adding more stuff as I run into it!</p>
]]></content:encoded>
									<post-id xmlns="com-wordpress:feed-additions:1">808</post-id>	</item>
	</channel>
</rss>
